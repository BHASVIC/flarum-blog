{"version":3,"sources":["webpack://@v17development/flarum-blog/webpack/bootstrap","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Button']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['Component']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Switch']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Link']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['Model']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Alert']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/ItemList']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['extend']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/Stream']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Modal']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Page']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['tags/components/TagDiscussionModal']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Dropdown']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['helpers/listItems']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/DiscussionControls']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/CommentPost']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/PostStream']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['states/PostStreamState']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/EditPostComposer']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/extractText']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['helpers/avatar']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['models/Discussion']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/IndexPage']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/DiscussionPage']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/mixin']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/ComposerBody']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/TextEditor']\"","webpack://@v17development/flarum-blog/external \"flarum.core\"","webpack://@v17development/flarum-blog/./src/forum/components/Modals/BlogPostSettingsModal.js","webpack://@v17development/flarum-blog/./src/forum/components/Modals/RenameArticleModal.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogPostController.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogAuthor.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogCategories.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogItemSidebar.js","webpack://@v17development/flarum-blog/./src/forum/utils/tooltip.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/Language.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/LanguageDropdown.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogOverview.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogItem.js","webpack://@v17development/flarum-blog/./src/forum/utils/redirector.js","webpack://@v17development/flarum-blog/./src/common/Models/BlogMeta.js","webpack://@v17development/flarum-blog/./src/forum/utils/extendTagOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/discussionRouting.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/ComposerPreview.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/Composer.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogComposer.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@v17development/flarum-blog/./src/forum/index.js","webpack://@v17development/flarum-blog/./src/forum/compat.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_inheritsLoose","subClass","superClass","constructor","__proto__","flarum","core","compat","BlogPostSettingsModal","oninit","vnode","this","attrs","article","meta","blogMeta","app","store","createRecord","isNew","exists","summary","Stream","featuredImage","isFeatured","isSized","isPendingReview","className","title","content","fields","toArray","items","ItemList","add","style","maxWidth","minWidth","width","minHeight","bidi","placeholder","type","src","alt","marginTop","Switch","component","state","onchange","val","fontWeight","Button","loading","submitData","relationships","isComposer","discussion","onsubmit","e","preventDefault","pushData","attributes","hide","save","then","redraw","response","handleErrors","Modal","RenameArticleModal","redirect","translator","trans","onChange","url","slug","route","set","window","history","replaceState","document","BlogPostController","init","loadedPost","view","buttons","LanguageDiscussionModal","extensions","components","canRename","push","onclick","modal","show","icon","articlePost","firstPost","getById","firstPostId","disabled","canEdit","composer","load","EditPostComposer","post","canTag","TagDiscussionModal","forum","attribute","alerts","Alert","canChangeLanguage","canLock","DiscussionControls","lockAction","isLocked","canHide","isHidden","restoreAction","canDelete","confirm","extractText","getCurrent","previous","back","hideAction","Dropdown","label","buttonClassName","menuClassName","onshow","find","id","Component","BlogAuthor","author","user","backgroundColor","color","avatar","displayName","bio","listItems","BlogCategories","blogCategories","map","tagId","tag","tags","categoryItem","all","forEach","_tag","isChild","parent","href","BlogItemSidebar","itemlist","tooltip","element","$","Language","languages","options","reduce","lang","code","extra","language","uppercase","toUpperCase","LanguageDropdown","selected","keys","active","BlogOverview","setTitle","bodyClass","isLoading","featuredPosts","posts","hasMore","isLoadingMore","currentSelectedLanguage","param","locale","loadBlogOverview","preloadBlogOverview","preloadedApiDocument","setTimeout","reloadData","q","length","filter","sort","articles","payload","links","next","slice","loadMore","replace","data","newArticle","location","pathname","clear","blogImage","blogTag","backgroundImage","isSticky","config","data-placement","humanTime","createdAt","commentCount","blogTags","indexOf","currentCategory","getBy","join","undefined","Page","BlogItem","found","loadBlogItem","split","includedPosts","included","articleId","record","a","b","stream","PostStreamState","matches","class","opacity","session","fontSize","marginRight","PostStream","onPositionChange","positionChanged","startNumber","endNumber","lastReadPostNumber","extend","IndexPage","currentTag","tagRedirectEnabled","override","DiscussionPage","original","BlogMeta","mixin","Model","hasOne","extendTagOverview","TagsPage","markup","knowledgeBaseTags","tag_tiles","children","tile","original_discussion_route","near","shouldRedirect","ComposerPreview","oncreate","s9e","TextFormatter","preview","dom","Composer","previewContent","hasContent","TextEditor","submitLabel","jumpToPreview","ComposerBody","BlogComposer","articleLanguage","tagList","Array","isArray","foundTag","isSaving","openTagsModal","selectedTags","openNameArticleModal","openBlogSettings","cursor","originalContent","alert","_extends","assign","target","arguments","source","apply","initializers","routes","blog","path","blogCategory","blogComposer","blogArticle","models","Discussion","redirector","discussionRouting"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 35);\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['components/Link'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['utils/Stream'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['tags/components/TagDiscussionModal'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['utils/DiscussionControls'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['components/CommentPost'];","module.exports = flarum.core.compat['components/PostStream'];","module.exports = flarum.core.compat['states/PostStreamState'];","module.exports = flarum.core.compat['components/EditPostComposer'];","module.exports = flarum.core.compat['utils/extractText'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['models/Discussion'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/DiscussionPage'];","module.exports = flarum.core.compat['utils/mixin'];","module.exports = flarum.core.compat['tags/components/TagsPage'];","module.exports = flarum.core.compat['components/ComposerBody'];","module.exports = flarum.core.compat['components/TextEditor'];","module.exports = flarum.core;","import Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport Stream from 'flarum/utils/Stream';\r\nimport Switch from 'flarum/components/Switch';\r\n\r\nexport default class BlogPostSettingsModal extends Modal {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    if(this.attrs.article) {\r\n      this.meta = this.attrs.article && this.attrs.article.blogMeta() ? this.attrs.article.blogMeta() : app.store.createRecord('blogMeta');\r\n    }else{\r\n      this.meta = this.attrs.meta ? this.attrs.meta : app.store.createRecord('blogMeta');\r\n    }\r\n    \r\n    this.isNew = !this.meta.exists;\r\n    \r\n    this.summary = Stream(this.meta.summary() || '');\r\n\r\n    this.featuredImage = Stream(this.meta.featuredImage() || '');\r\n\r\n    this.isFeatured = Stream(this.meta.isFeatured() || false);\r\n    this.isSized = Stream(this.meta.isSized() || false);\r\n    this.isPendingReview = Stream(this.meta.isPendingReview() || false);\r\n  }\r\n\r\n  className() {\r\n    return 'Modal--small Support-Modal';\r\n  }\r\n\r\n  title() {\r\n    return 'Blog post settings';\r\n  }\r\n\r\n  content() {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          {this.fields().toArray()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fields() {\r\n    const items = new ItemList();\r\n\r\n    items.add('summary', (\r\n      <div className=\"Form-group\">\r\n        <label>Article summary:</label>\r\n        <textarea className=\"FormControl\" style={{ maxWidth: '100%', minWidth: '100%', width: '100%', minHeight: '120px' }} bidi={this.summary} placeholder={\"Please enter a summary\"} />\r\n\r\n        <small>This summary will be visible on the blog overview page and will be used for SEO purposes.</small>\r\n      </div>\r\n    ), 30);\r\n\r\n    items.add('image', (\r\n      <div className=\"Form-group\">\r\n        <label>Article image URL:</label>\r\n        <input type=\"text\" className=\"FormControl\" bidi={this.featuredImage} placeholder={\"https://\"} />\r\n\r\n        <small>Best image resolution for social media: 1200x630</small>\r\n\r\n        {this.featuredImage() != \"\" && (\r\n          <img src={this.featuredImage()} alt={\"Article image\"} title={\"Blog post image\"} width={\"100%\"} style={{ marginTop: '15px' }} />\r\n        )}\r\n      </div>\r\n    ), 30);\r\n\r\n    items.add('sized', (\r\n      <div className=\"Form-group\">\r\n        {Switch.component({\r\n          state: this.isSized() == true,\r\n          onchange: (val) => {\r\n            this.isSized(val);\r\n          }\r\n        }, [\r\n          <b>Highlighted post</b>, \r\n          <div className=\"helpText\" style={{ fontWeight: 500 }}>Give this post a big image on the blog overview page.</div>,\r\n        ])}\r\n      </div>\r\n    ), -10);\r\n\r\n    items.add('submit', <div className=\"Form-group\">\r\n      {Button.component({\r\n        type: 'submit',\r\n        className: 'Button Button--primary SupportModal-save',\r\n        loading: this.loading\r\n      }, 'Update')}\r\n    </div>, -10);\r\n\r\n    return items;\r\n  }\r\n\r\n  submitData() {\r\n    return {\r\n      summary: this.summary(),\r\n      featuredImage: this.featuredImage(),\r\n      isFeatured: this.isFeatured(),\r\n      isSized: this.isSized(),\r\n      isPendingReview: this.isPendingReview(),\r\n      relationships: this.isNew && !this.attrs.isComposer ? {\r\n        discussion: this.attrs.article\r\n      } : null\r\n    };\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n    \r\n    // Submit data\r\n    if(this.attrs.onsubmit) {\r\n      // Update attributes\r\n      this.meta.pushData({\r\n        attributes: this.submitData()\r\n      });\r\n\r\n      // Push\r\n      this.attrs.onsubmit(this.meta);\r\n\r\n      this.hide();\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n\r\n    this.meta\r\n      .save(this.submitData())\r\n      .then(() => {\r\n        if(this.attrs.article) {\r\n          this.attrs.article.pushData({\r\n            relationships: {\r\n              blogMeta: this.meta\r\n            }\r\n          });\r\n        }\r\n\r\n        this.hide();\r\n        m.redraw();\r\n      },\r\n      response => {\r\n        this.loading = false;\r\n        this.handleErrors(response);\r\n      });\r\n  }\r\n}","import Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport Stream from 'flarum/utils/Stream';\r\n\r\nexport default class RenameArticleModal extends Modal {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.article = this.attrs.article;\r\n\r\n    this.name = Stream(this.article.title() || '');\r\n\r\n    this.redirect = this.attrs.redirect;\r\n  }\r\n\r\n  className() {\r\n    return 'Modal--small Support-Modal';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('v17development-flarum-blog.forum.tools.rename_article');\r\n  }\r\n\r\n  content() {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          {this.fields().toArray()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fields() {\r\n    const items = new ItemList();\r\n\r\n    items.add('name', (\r\n      <div className=\"Form-group\">\r\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article.title')}:</label>\r\n        <input className=\"FormControl\" placeholder={app.translator.trans('v17development-flarum-blog.forum.article.title')} bidi={this.name} />\r\n      </div>\r\n    ), 50);\r\n\r\n    items.add('submit', (\r\n      <div className=\"Form-group\">\r\n        {Button.component({\r\n          type: 'submit',\r\n          className: 'Button Button--primary SupportModal-save',\r\n          loading: this.loading\r\n        }, 'Update')}\r\n      </div>\r\n    ), -10);\r\n\r\n    return items;\r\n  }\r\n\r\n  submitData() {\r\n    return {\r\n      title: this.name()\r\n    };\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.loading = true;\r\n\r\n    // Do not save\r\n    if(this.attrs.onChange) {\r\n      this.attrs.onChange(this.name());\r\n      this.hide();\r\n\r\n      return;\r\n    }\r\n\r\n    this.article.save({\r\n      title: this.name()\r\n    })\r\n      .then(() => {\r\n        this.hide();\r\n\r\n        // Redirect\r\n        if(this.redirect) {\r\n          const url =  `/blog/${this.article.slug()}`;\r\n\r\n          m.route.set(url, true);\r\n          window.history.replaceState(null, document.title, url);\r\n        }\r\n      }, response => {\r\n        this.loading = false;\r\n        this.handleErrors(response);\r\n      }\r\n    );\r\n  }\r\n}","import Component from 'flarum/Component';\r\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\r\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\r\nimport Alert from 'flarum/components/Alert';\r\nimport Button from 'flarum/components/Button';\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\r\nimport EditPostComposer from 'flarum/components/EditPostComposer';\r\nimport extractText from 'flarum/utils/extractText';\r\nimport RenameArticleModal from './Modals/RenameArticleModal';\r\n\r\nexport default class BlogPostController extends Component {\r\n  init() {\r\n    this.loadedPost = false;\r\n  }\r\n  \r\n  view() {\r\n    const article = this.attrs.article;\r\n    let buttons = [];\r\n\r\n    // Working for GlowingBlue version\r\n    const LanguageDiscussionModal = flarum.extensions['fof-discussion-language'] && typeof flarum.extensions['fof-discussion-language'].components !== \"undefined\" ? \r\n      flarum.extensions['fof-discussion-language'].components.LanguageDiscussionModal : null;\r\n\r\n    // Rename article\r\n    if(article.canRename()) {\r\n      buttons.push(\r\n        Button.component({\r\n          className: 'Button',\r\n          onclick: () => app.modal.show(RenameArticleModal, { article }),\r\n          icon: 'fas fa-pencil-alt'\r\n        }, app.translator.trans('v17development-flarum-blog.forum.tools.rename_article'))\r\n      );\r\n    }\r\n\r\n    const articlePost = article.firstPost() ? article.firstPost() : app.store.getById('posts', article.firstPostId());\r\n\r\n    // Edit article\r\n    buttons.push(\r\n      Button.component({\r\n        className: 'Button',\r\n        disabled: !articlePost || !articlePost.canEdit(),\r\n        onclick: () => {\r\n          app.composer.load(EditPostComposer, { post: articlePost });\r\n          app.composer.show();\r\n        },\r\n        icon: 'fas fa-edit'\r\n      }, app.translator.trans('v17development-flarum-blog.forum.tools.edit_article'))\r\n    );\r\n\r\n    // Article settings\r\n    buttons.push(\r\n      Button.component({\r\n        className: 'Button',\r\n        onclick: () => app.modal.show(BlogPostSettingsModal, { article }),\r\n        icon: 'fas fa-cogs'\r\n      }, app.translator.trans('v17development-flarum-blog.forum.tools.article_settings'))\r\n    );\r\n\r\n    // Update categories\r\n    if(article.canTag()) {\r\n      buttons.push(\r\n        Button.component({\r\n          className: 'Button',\r\n          onclick: () => app.modal.show(TagDiscussionModal, { discussion: article }),\r\n          icon: 'fas fa-tag'\r\n        }, app.translator.trans('v17development-flarum-blog.forum.tools.update_category'))\r\n      );\r\n    }\r\n\r\n    // Approve article\r\n    if(article.blogMeta() && article.blogMeta().isPendingReview()) {\r\n      buttons.push(<li className=\"Dropdown-separator\"/>);\r\n\r\n      buttons.push(\r\n        Button.component({\r\n          className: 'Button',\r\n          disabled: !app.forum.attribute('canApproveBlogPosts'),\r\n          onclick: () => {\r\n            article.blogMeta().save({\r\n              isPendingReview: false\r\n            }).then(() => {\r\n              app.alerts.show(Alert, {type: 'success' }, app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article_approved'));\r\n            },\r\n            response => {\r\n              this.loading = false;\r\n              this.handleErrors(response);\r\n            });\r\n          },\r\n          icon: 'fas fa-thumbs-up'\r\n        }, app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article'))\r\n      );\r\n    }\r\n\r\n    // Language\r\n    if (article.canChangeLanguage && article.canChangeLanguage() && LanguageDiscussionModal) {\r\n      buttons.push(\r\n          Button.component({\r\n              icon: 'fas fa-globe',\r\n              onclick: () => app.modal.show(LanguageDiscussionModal, { discussion: article })\r\n          }, app.translator.trans('fof-discussion-language.forum.discussion_controls.change_language_button'))\r\n      );\r\n    }\r\n\r\n    buttons.push(<li className=\"Dropdown-separator\"/>);\r\n\r\n    // Lock article\r\n    if(article.canLock()) {\r\n      buttons.push(\r\n        Button.component({\r\n          className: 'Button',\r\n          onclick: DiscussionControls.lockAction.bind(article),\r\n          icon: `fas ${article.isLocked() ? 'fa-comments' : 'fa-comment-slash'}`\r\n        }, article.isLocked() ? app.translator.trans('v17development-flarum-blog.forum.tools.enable_comments') : app.translator.trans('v17development-flarum-blog.forum.tools.disable_comments'))\r\n      );\r\n    }\r\n\r\n    // Hide/show/delete\r\n    if(article.canHide()) {\r\n      // Article is hidden\r\n      if(article.isHidden()) {\r\n        // Recover article\r\n        buttons.push(\r\n          Button.component({\r\n            className: 'Button',\r\n            onclick: DiscussionControls.restoreAction.bind(article),\r\n            icon: 'fas fa-eye'\r\n          }, app.translator.trans('v17development-flarum-blog.forum.tools.recover_article'))\r\n        );\r\n\r\n        // Delete article\r\n        if(article.canDelete()) {\r\n          buttons.push(\r\n            Button.component({\r\n              className: 'Button',\r\n              onclick: () => {\r\n                // Confirm deletion\r\n                if (confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))) {\r\n                  // Redirect if the current page is an blog article\r\n                  if (app.history.getCurrent().name === 'blogArticle') {\r\n                    if(app.previous) {\r\n                      app.history.back();\r\n                    }else{\r\n                      m.route.set(app.route('blog'));\r\n                    }\r\n                  }\r\n            \r\n                  return article.delete().then(() => {\r\n                    m.redraw();\r\n                  });\r\n                }            \r\n              },\r\n              icon: 'far fa-trash-alt'\r\n            }, app.translator.trans('v17development-flarum-blog.forum.tools.delete_forever'))\r\n          );\r\n        }\r\n      }else{\r\n        // Hide article\r\n        buttons.push(\r\n          Button.component({\r\n            className: 'Button',\r\n            onclick: DiscussionControls.hideAction.bind(article),\r\n            icon: 'fas fa-eye-slash'\r\n          }, app.translator.trans('v17development-flarum-blog.forum.tools.hide_article'))\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className={\"FlarumBlog-Article-Content-Edit-Button\"}>\r\n        <div className={\"FlarumBlog-Article-Content-Edit-Dropdown\"}>\r\n          {Dropdown.component({\r\n            icon: 'fas fa-cog',\r\n            label: 'Manage',\r\n            buttonClassName: 'Button',\r\n            menuClassName: 'Dropdown-menu--right',\r\n            onshow: () => {\r\n              // Get post data to make sure they can edit the post\r\n              if(articlePost && !articlePost.canEdit() && !this.loadedPost) {\r\n                this.loadedPost = true;\r\n                app.store\r\n                  .find('posts', article.firstPost() ? article.firstPost().id() : article.firstPostId())\r\n                  .then(() => {})\r\n                  .catch(() => {})\r\n                  .then(() => m.redraw())\r\n              }     \r\n            }\r\n          }, buttons)}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import Component from 'flarum/Component';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport avatar from 'flarum/helpers/avatar';\r\n\r\nexport default class BlogAuthor extends Component {  \r\n  view() {\r\n    const author = !this.attrs.loading ? (this.attrs.article ? this.attrs.article.user() : this.attrs.user) : null;\r\n\r\n    return (\r\n      <div className={\"FlarumBlog-Article-Author\"}>\r\n        <div className={`FlarumBlog-Article-Author-background ${this.attrs.loading ? 'FlarumBlog-Author-Ghost' : ''}`} style={{ backgroundColor: author && author.color() ? author.color() : null }} />\r\n\r\n        <div className={\"FlarumBlog-Article-Author-Avatar\"}>{author ? avatar(author) : <span className={\"Avatar FlarumBlog-Author-Ghost\"} />}</div>\r\n\r\n        {author && (\r\n          <div className={\"FlarumBlog-Article-Author-Info\"}>\r\n            <span className={\"FlarumBlog-Article-Author-Name\"}>{author.displayName()}</span>\r\n            <p className={\"FlarumBlog-Article-Author-Bio\"}>{author.bio && author.bio()}</p>\r\n\r\n            <ul className={\"FlarumBlog-Article-Author-Extended\"}>\r\n              {listItems(this.items().toArray())}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n        {this.attrs.loading && (\r\n          <div>\r\n            <span className={\"FlarumBlog-Article-Author-Name FlarumBlog-Author-Ghost\"}>&nbsp;</span>\r\n            <p className={\"FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost\"}>&nbsp;</p>\r\n            <p className={\"FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost\"}>&nbsp;</p>\r\n            <p className={\"FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost\"}>&nbsp;</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  items() {\r\n    return new ItemList();\r\n  }\r\n}","import Component from 'flarum/Component';\r\nimport Link from 'flarum/components/Link';\r\n\r\nexport default class BlogCategories extends Component {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n    \r\n    this.blogCategories = app.forum.attribute('blogTags');\r\n  }\r\n  \r\n  view() {\r\n    return (\r\n      <div className={\"BlogCategories\"}>\r\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.categories')}</h3>\r\n\r\n        {this.blogCategories && this.blogCategories.map(tagId => {\r\n          const tag = app.store.getById('tags', tagId);\r\n\r\n          if(!tag) return null; \r\n\r\n          const tags = [];\r\n\r\n          // Add tag\r\n          tags.push(\r\n            this.categoryItem(tag)\r\n          );\r\n\r\n          // Add tags\r\n          app.store.all('tags').forEach(_tag => {\r\n            if(_tag.isChild() && _tag.parent().id() === tag.id()) {\r\n              tags.push(this.categoryItem(_tag));\r\n            }\r\n          });\r\n          \r\n          return tags;\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Category item\r\n  categoryItem(tag) {\r\n    return (\r\n      <Link \r\n        href={app.route(\"blogCategory\", { slug: tag.slug() })} \r\n        className={`BlogCategories-item BlogCategories-item-${tag.id()} ${tag.isChild() && app.forum.attribute('blogCategoryHierarchy') == true ? 'BlogCategories-item-child' : ''}`} \r\n        >\r\n        <span className={tag.icon() === '' ? 'BlogCategories-item-colored' : ''} style={{ backgroundColor: tag.icon() === '' ? tag.color() : null }}>\r\n          <i className={tag.icon()} />\r\n        </span>\r\n        {tag.name()}\r\n      </Link>\r\n    )\r\n  }\r\n}","import Component from 'flarum/Component';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport BlogAuthor from './BlogAuthor';\r\nimport BlogCategories from '../BlogCategories';\r\n\r\nexport default class BlogItemSidebar extends Component {\r\n  view() {\r\n    return (\r\n      <div className={\"FlarumBlog-Article-Sidebar\"}>\r\n        <ul>\r\n          {listItems(this.items().toArray())}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  items() {\r\n    const itemlist = new ItemList();\r\n\r\n    itemlist.add(\"author\", BlogAuthor.component(this.attrs), 0);\r\n\r\n    itemlist.add(\"categories\", BlogCategories.component(this.attrs), 0);\r\n\r\n    return itemlist;\r\n  }\r\n}","export default function tooltip(element) {\r\n  $(element).tooltip();\r\n}","import Component from 'flarum/Component';\r\n\r\nexport default class Language extends Component {\r\n    oninit(vnode) {\r\n        super.oninit(vnode);\r\n        \r\n        this.languages = app.store.all('discussion-languages');\r\n        this.options = this.languages.reduce((o, lang) => {\r\n            o[lang.code()] = (\r\n                <span>\r\n                    <i className={\"fas fa-globe\"} /> {lang.name()}\r\n                </span>\r\n            );\r\n\r\n            return o;\r\n        }, this.attrs.extra || {});\r\n    }\r\n\r\n    view() {\r\n        const { language, uppercase } = this.attrs;\r\n        const name = language.name() || '';\r\n\r\n        return (\r\n            <span>\r\n                <i className={\"fas fa-globe\"} />\r\n                &nbsp;\r\n                {uppercase ? name.toUpperCase() : name}\r\n            </span>\r\n        );\r\n    }\r\n}\r\n","import Component from 'flarum/Component';\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport Button from 'flarum/components/Button';\r\nimport Language from './Language';\r\n\r\nexport default class LanguageDropdown extends Component {\r\n    oninit(vnode) {\r\n        super.oninit(vnode);\r\n        this.languages = app.store.all('discussion-languages');\r\n        this.options = this.languages.reduce((o, lang) => {\r\n            o[lang.code()] = <Language language={lang} />;\r\n\r\n            return o;\r\n        }, this.attrs.extra || {});\r\n    }\r\n\r\n    view() {\r\n        const selected = this.attrs.selected;\r\n\r\n        const items = Object.keys(this.options).map((key) => {\r\n            const isSelected = selected || 'any';\r\n            const active = key === isSelected;\r\n\r\n            return Button.component({\r\n                active,\r\n                icon: active ? 'fas fa-check' : true,\r\n                onclick: () => this.attrs.onclick(key),\r\n            }, this.options[key]);\r\n        });\r\n\r\n        return Dropdown.component({\r\n            buttonClassName: 'Button',\r\n            label: this.options[selected] || this.options[this.attrs.default],\r\n            menuClassName: 'Dropdown-menu--right',\r\n        }, items);\r\n    }\r\n}","import Page from 'flarum/components/Page';\r\nimport Button from 'flarum/components/Button';\r\nimport humanTime from 'flarum/helpers/humanTime';\r\nimport BlogCategories from '../components/BlogCategories';\r\nimport Link from 'flarum/components/Link';\r\nimport tooltip from '../utils/tooltip';\r\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\r\n\r\nexport default class BlogOverview extends Page {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\r\n\r\n    this.bodyClass = 'BlogOverviewPage';\r\n\r\n    this.isLoading = true;\r\n    this.featuredPosts = [];\r\n    this.posts = [];\r\n    this.hasMore = null;\r\n    this.isLoadingMore = false;\r\n\r\n    this.languages = app.store.all('discussion-languages');\r\n\r\n    this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.locale;\r\n\r\n    // Send history push\r\n    app.history.push('blog');\r\n\r\n    this.loadBlogOverview();\r\n  }\r\n\r\n  // Load blog overview\r\n  loadBlogOverview() {\r\n    const preloadBlogOverview = app.preloadedApiDocument();\r\n\r\n    if (preloadBlogOverview) {\r\n      // We must wrap this in a setTimeout because if we are mounting this\r\n      // component for the first time on page load, then any calls to m.redraw\r\n      // will be ineffective and thus any configs (scroll code) will be run\r\n      // before stuff is drawn to the page.\r\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\r\n    } else {\r\n      this.reloadData();\r\n    }\r\n\r\n    m.redraw();\r\n  }\r\n\r\n  reloadData() {\r\n    let q = `is:blog${m.route.param('slug') ? ` tag:${m.route.param('slug')}` : ''}`;\r\n\r\n    if(this.languages !== null && this.languages.length >= 1) {\r\n      q += ` language:${this.currentSelectedLanguage}`\r\n    }\r\n\r\n    app.store.find('discussions', {\r\n      filter: {\r\n        q\r\n      },\r\n      sort: '-createdAt'\r\n    })\r\n      .then(this.show.bind(this))\r\n      .catch(() => {\r\n        m.redraw();\r\n      });\r\n  }\r\n\r\n  // Show blog posts\r\n  show(articles) {\r\n    if(articles.length === 0) {\r\n      this.isLoading = false;\r\n      m.redraw();\r\n      \r\n      return;\r\n    }\r\n\r\n    // Set pagination\r\n    this.hasMore = articles.payload.links && articles.payload.links.next ? articles.payload.links.next : null;\r\n\r\n    this.featuredPosts = articles.slice(0, 3);\r\n    this.posts = articles.length >= 4 ? articles.slice(3, articles.length) : [];\r\n\r\n    this.isLoading = false;\r\n\r\n    m.redraw();\r\n  }\r\n\r\n  // Load more blog posts\r\n  loadMore() {\r\n    this.isLoadingMore = true;\r\n\r\n    app.store\r\n      .find(this.hasMore.replace(app.forum.attribute('apiUrl'), \"\"))\r\n      .then(data => {\r\n        data.map(article => this.posts.push(article));\r\n\r\n        // Update hasmore button\r\n        this.hasMore = data.payload.links && data.payload.links.next ? data.payload.links.next : null;\r\n      })\r\n      .catch(() => { })\r\n      .then(() => {\r\n        this.isLoadingMore = false;\r\n        m.redraw();\r\n      })\r\n  }\r\n\r\n  title() {\r\n    if(!m.route.param('slug')) {\r\n      return <h2>{app.translator.trans('v17development-flarum-blog.forum.recent_posts')}</h2>;\r\n    }\r\n\r\n    const tag = app.store.all('tags').filter(tag => tag.slug() === m.route.param('slug'));\r\n\r\n    return (\r\n      <h2>\r\n        {tag && tag[0] && tag[0].name()}\r\n        <small> - <Link href={app.route(\"blog\")}>{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</Link></small>\r\n      </h2>\r\n    );\r\n  }\r\n\r\n  view() {\r\n    return (\r\n      <div className={\"FlarumBlogOverview\"}>\r\n        <div className={\"container\"}>\r\n          <div className={\"BlogFeatured\"}>\r\n            <div className={\"BlogOverviewButtons\"}>\r\n              {app.forum.attribute('canWriteBlogPosts') && (\r\n                <Button \r\n                  className={\"Button\"}\r\n                  onclick={() => this.newArticle()}\r\n                  icon={\"fas fa-pencil-alt\"}\r\n                  >\r\n                  {app.translator.trans('v17development-flarum-blog.forum.compose.write_article')}\r\n                </Button>\r\n              )}\r\n\r\n              {(this.languages !== null && this.languages.length >= 1) && (\r\n                <LanguageDropdown \r\n                  selected={this.currentSelectedLanguage}\r\n                  onclick={(language) => {\r\n                    this.currentSelectedLanguage = language;\r\n\r\n                    m.route.set(document.location.pathname, {\r\n                      lang: language\r\n                    })\r\n\r\n                    this.reloadData();\r\n                  }} />\r\n              )}\r\n            </div>\r\n\r\n            {this.title()}\r\n\r\n            <div style={{ clear: 'both' }} />\r\n\r\n            <div className={\"BlogFeatured-list\"}>\r\n              {/* Ghost data */}\r\n              {this.isLoading && [0, 1, 2].map(() => (\r\n                <div className={\"BlogFeatured-list-item BlogFeatured-list-item-ghost\"}>\r\n                  <div className={\"BlogFeatured-list-item-details\"}>\r\n                    <h4>&nbsp;</h4>\r\n\r\n                    <div className={\"data\"}>\r\n                      <span><i className={\"far fa-wave\"} /></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              \r\n              {!this.isLoading && this.featuredPosts.length >= 0 && this.featuredPosts.map((article) => {\r\n                const blogImage = article.blogMeta() && article.blogMeta().featuredImage() ? `url(${article.blogMeta().featuredImage()})` : null;\r\n                const blogTag = article.tags() ? article.tags().filter(tag => tag.isChild()) : [];\r\n\r\n                return (\r\n                  <Link \r\n                    href={app.route(\"blogArticle\", { id: `${article.slug()}` })} \r\n                    className={\"BlogFeatured-list-item FlarumBlog-default-image\"} \r\n                    style={{ backgroundImage: blogImage }}\r\n                    >\r\n                    <div className={\"BlogFeatured-list-item-top\"}>\r\n                      {blogTag[0] && (\r\n                        <span>{blogTag[0].name()}</span>\r\n                      )}\r\n                      {article.isSticky() && (\r\n                        <span><i className={\"fas fa-thumbtack\"} /></span>\r\n                      )}\r\n                      {((article.blogMeta() && article.blogMeta().isPendingReview() == true) || article.isHidden()) && (\r\n                        <span><i className={\"fas fa-eye-slash\"} /></span>\r\n                      )}\r\n                      {article.blogMeta() && article.blogMeta().isPendingReview() == true && (\r\n                        <span title={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')} config={tooltip.bind(this)} data-placement={\"bottom\"}><i className={\"far fa-clock\"} /> {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review_title')}</span>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className={\"BlogFeatured-list-item-details\"}>\r\n                      <h4>{article.title()}</h4>\r\n\r\n                      <div className={\"data\"}>\r\n                        <span><i className={\"far fa-clock\"} /> {humanTime(article.createdAt())}</span>  \r\n                        <span><i className={\"far fa-user\"} /> {article.user() ? article.user().displayName() : '[Deleted]'}</span>\r\n                        <span><i className={\"far fa-comment\"} /> {article.commentCount() - 1}</span>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={\"BlogScrubber\"}>\r\n            <div className={\"BlogList\"}>\r\n              {this.isLoading && [false, false, true, false].map((state) => {\r\n                return (\r\n                  <div className={`BlogList-item BlogList-item-${state === true ? 'sized' : 'default'} BlogList-item-ghost`}>\r\n                    <div className={\"BlogList-item-photo FlarumBlog-default-image\"}></div>\r\n                    <div className={\"BlogList-item-content\"}>\r\n                      <h4>&nbsp;</h4>\r\n                      <p>&nbsp;</p>\r\n\r\n                      <div className={\"data\"}>\r\n                        <span><i className={\"far fa-wave\"} /></span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n\r\n              {!this.isLoading && this.posts.length >= 1 && this.posts.map(article => {\r\n                const blogImage = article.blogMeta() && article.blogMeta().featuredImage() ? `url(${article.blogMeta().featuredImage()})` : null;\r\n                const isSized = article.blogMeta() && article.blogMeta().isSized();\r\n                const summary = article.blogMeta() && article.blogMeta().summary() ? article.blogMeta().summary() : \"\";\r\n                \r\n                return (\r\n                  <Link\r\n                    href={app.route(\"blogArticle\", { id: `${article.slug()}` })} \r\n                    className={`BlogList-item BlogList-item-${isSized ? 'sized' : 'default'}`}>\r\n                    <div className={\"BlogList-item-photo FlarumBlog-default-image\"} style={{ backgroundImage: blogImage }}></div>\r\n                    <div className={\"BlogList-item-content\"}>\r\n                      <h4>\r\n                        {article.title()}\r\n                        {((article.blogMeta() && article.blogMeta().isPendingReview() == true) || article.isHidden()) && (\r\n                          <i className={\"fas fa-eye-slash\"} />\r\n                        )}\r\n                        {article.blogMeta() && article.blogMeta().isPendingReview() == true && (\r\n                          <i className={\"far fa-clock\"} title={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')} config={tooltip.bind(this)} />\r\n                        )}\r\n                      </h4>\r\n                      <p>{summary}</p>\r\n\r\n                      <div className={\"data\"}>\r\n                        <span><i className={\"far fa-clock\"} /> {humanTime(article.createdAt())}</span>  \r\n                        <span><i className={\"far fa-user\"} /> {article.user() ? article.user().displayName() : '[Deleted]'}</span>\r\n                        <span><i className={\"far fa-comment\"} /> {article.commentCount() - 1}</span>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                )\r\n              })}\r\n\r\n              {!this.isLoading && this.featuredPosts.length > 0 && this.hasMore === null && (\r\n                <p className={\"FlarumBlog-reached-end\"}>{app.translator.trans('v17development-flarum-blog.forum.no_more_posts')}</p>\r\n              )}\r\n\r\n              {!this.isLoading && this.featuredPosts.length === 0 && this.posts.length === 0 && (\r\n                <p className={\"FlarumBlog-reached-end\"}>{app.translator.trans('v17development-flarum-blog.forum.category_empty')}</p>\r\n              )}\r\n\r\n              {!this.isLoading && this.hasMore !== null && (\r\n                <div className={\"FlarumBlog-reached-load-more\"}>\r\n                  <Button \r\n                    className={\"Button\"}\r\n                    onclick={() => this.loadMore()}\r\n                    icon={\"fas fa-chevron-down\"}\r\n                    loading={this.isLoadingMore}\r\n                    >\r\n                    {app.translator.trans('core.forum.discussion_list.load_more_button')}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className={\"Sidebar\"}>\r\n              <BlogCategories />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  newArticle() {\r\n    let foundMainTag = false;\r\n    let tags = [];\r\n\r\n    const blogTags = app.forum.attribute('blogTags');\r\n\r\n    // Pre-select selected tags\r\n    app.store.all('tags').forEach(_tag => {\r\n      // Find main blog tag\r\n      if(!foundMainTag && !_tag.isChild() && blogTags.indexOf(_tag.id()) >= 0) {\r\n        tags.push(_tag);\r\n      }\r\n    });\r\n\r\n    // Get current category\r\n    const currentCategory = app.store.getBy('tags', 'slug', m.route.param('slug'));\r\n\r\n    if(currentCategory) {\r\n      tags.push(currentCategory);\r\n    }\r\n\r\n    // Redirect to the composer\r\n    m.route.set(\r\n      app.route(\"blogComposer\", { \r\n        tags: tags.map((tag) => tag.id()).join(),\r\n        lang: this.languages.length > 0 ? this.currentSelectedLanguage : undefined\r\n      })\r\n    );\r\n  }\r\n}","import Page from 'flarum/components/Page';\r\nimport CommentPost from 'flarum/components/CommentPost';\r\nimport PostStream from 'flarum/components/PostStream';\r\nimport PostStreamState from 'flarum/states/PostStreamState';\r\nimport BlogPostController from '../components/BlogPostController';\r\nimport BlogItemSidebar from '../components/BlogItemSidebar/BlogItemSidebar';\r\nimport Link from 'flarum/components/Link';\r\nimport BlogOverview from './BlogOverview';\r\n\r\nexport default class BlogItem extends Page {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\r\n\r\n    // Send history push\r\n    app.history.push('blogArticle');\r\n\r\n    this.bodyClass = 'BlogItemPage';\r\n\r\n    this.loading = true;\r\n    this.found = false;\r\n    this.article = null;\r\n\r\n    this.loadBlogItem();\r\n  }\r\n\r\n  // Load blog overview\r\n  loadBlogItem() {\r\n    const preloadBlogOverview = app.preloadedApiDocument();\r\n\r\n    if (preloadBlogOverview) {\r\n      // We must wrap this in a setTimeout because if we are mounting this\r\n      // component for the first time on page load, then any calls to m.redraw\r\n      // will be ineffective and thus any configs (scroll code) will be run\r\n      // before stuff is drawn to the page.\r\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\r\n    } else {\r\n      app.store.find('discussions', m.route.param('id').split('-')[0])\r\n        .then(this.show.bind(this))\r\n        .catch(() => {\r\n          m.redraw();\r\n        });\r\n    }\r\n\r\n    m.redraw();\r\n  }\r\n\r\n  // Show blog post\r\n  show(article) {\r\n    // Set article data\r\n    this.article = article;\r\n\r\n    // Update title\r\n    app.setTitle(`${article.title()} - ${app.translator.trans('v17development-flarum-blog.forum.blog')}`);\r\n\r\n    this.loading = false;\r\n\r\n\r\n    let includedPosts = [];\r\n    if (article.payload && article.payload.included) {\r\n      const articleId = article.id();\r\n\r\n      includedPosts = article.payload.included\r\n        .filter(\r\n          (record) =>\r\n            record.type === 'posts' &&\r\n            record.relationships &&\r\n            record.relationships.discussion &&\r\n            record.relationships.discussion.data.id === articleId\r\n        )\r\n        .map((record) => app.store.getById('posts', record.id))\r\n        .sort((a, b) => a.id() - b.id())\r\n        .slice(0, 20);\r\n    }\r\n\r\n    this.stream = new PostStreamState(article, includedPosts);\r\n\r\n    m.redraw();\r\n  }\r\n\r\n  view() {\r\n    const blogImage = this.article && this.article.blogMeta() && this.article.blogMeta().featuredImage() ? `url(${this.article.blogMeta().featuredImage()})` : null;\r\n    let articlePost = null;\r\n\r\n    if(!this.loading && this.article) {\r\n      articlePost = this.article.firstPost() ? this.article.firstPost() : app.store.getById('posts', this.article.firstPostId());\r\n    }\r\n\r\n    return (\r\n      <div className={\"FlarumBlogItem\"}>\r\n        <div className={\"container\"}>\r\n          <div className={\"FlarumBlog-ToolButtons\"}>\r\n            <Link \r\n              href={app.route(\"blog\")}\r\n              className={\"Button\"}\r\n              onclick={(e) => {\r\n                if(app.previous.matches(BlogOverview)) {\r\n                  e.preventDefault();\r\n                  history.back();\r\n                }\r\n              }}\r\n              >\r\n                <i class=\"icon fas fa-angle-left Button-icon\"></i>\r\n                <span class=\"Button-label\">\r\n                  {app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}\r\n                </span>\r\n            </Link>\r\n          </div>\r\n          <div className={\"FlarumBlog-Article\"}>\r\n            <div className={\"FlarumBlog-Article-Container\"}>\r\n              <div className={\"FlarumBlog-Article-Content\"}>\r\n                <div \r\n                  className={`FlarumBlog-Article-Image FlarumBlog-default-image ${this.loading ? 'FlarumBlog-Article-GhostImage' : ''}`} \r\n                  style={{ \r\n                    backgroundImage: blogImage,\r\n                    opacity: this.article && this.article.isHidden() ? 0.4 : null\r\n                  }}\r\n                  />\r\n\r\n                {this.article && app.session.user && (app.session.user.canEdit() || this.article.canRename() || (this.article.posts() && this.article.posts()[0].canEdit())) && (\r\n                  <BlogPostController article={this.article} />\r\n                )}\r\n\r\n                {/* Article Categories */}\r\n                <div className={\"FlarumBlog-Article-Categories\"}>\r\n                  {!this.loading && this.article && this.article.tags() && this.article.tags().map(tag => (\r\n                    <Link href={app.route(\"blogCategory\", { slug: tag.slug() })}>{tag.name()}</Link>\r\n                  ))}\r\n\r\n                  {this.loading && (\r\n                    [0, 1].map(() => (<span className={\"FlarumBlog-Article-GhostCategory\"}>Category</span>))\r\n                  )}\r\n                </div>\r\n                \r\n                <div className={\"FlarumBlog-Article-Post\"}>\r\n                  {/* Article name */}\r\n                  <h3 className={this.loading ? 'FlarumBlog-Article-GhostTitle' : null}>\r\n                    {this.article ? this.article.title() : 'Ghost title'} \r\n                    {this.article && this.article.isHidden() && `(${app.translator.trans('v17development-flarum-blog.forum.hidden')})`}\r\n                  </h3>\r\n                  \r\n                  {this.loading && [0, 1, 2].map(() => (\r\n                    <div>\r\n                      <p className={\"FlarumBlog-Article-GhostParagraph\"}>&nbsp;</p>\r\n                      <p className={\"FlarumBlog-Article-GhostParagraph\"}>&nbsp;</p>\r\n                      <p className={\"FlarumBlog-Article-GhostParagraph\"}>&nbsp;</p>\r\n                      <p>&nbsp;</p>\r\n                    </div>\r\n                  ))}\r\n\r\n                  {!this.loading && this.article.blogMeta() && this.article.blogMeta().isPendingReview() == true && (\r\n                    <div className={\"Post\"}>\r\n                      <blockquote class=\"uncited\" style={{ fontSize: '16px' }}><div><span className={\"far fa-clock\"} style={{ marginRight: '5px' }} /> {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}</div></blockquote>\r\n                    </div>\r\n                  )}\r\n\r\n                  {!this.loading && articlePost && <CommentPost post={articlePost} />}\r\n                </div>\r\n              </div>\r\n\r\n              <div className={\"FlarumBlog-Article-Comments\"}>\r\n                <h4>{app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} ({this.article ? (this.article.commentCount() - 1) : 0})</h4>\r\n                {/* Locked */}\r\n                {!this.loading && this.article.isLocked && this.article.isLocked() && (\r\n                  <div className={\"Post-body\"}>\r\n                    <blockquote class=\"uncited\"><div><span className={\"far fa-lock\"} style={{ marginRight: '5px' }} /> {app.translator.trans('v17development-flarum-blog.forum.comment_section.locked')}</div></blockquote>\r\n                  </div>\r\n                )}\r\n\r\n                {!this.loading && this.article && PostStream.component({\r\n                  discussion: this.article,\r\n                  stream: this.stream,\r\n                  onPositionChange: () => {}\r\n                })}\r\n\r\n              </div>\r\n            </div>\r\n\r\n            <BlogItemSidebar article={this.article} loading={this.loading} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  positionChanged(startNumber, endNumber) {\r\n    const article = this.article;\r\n\r\n    if (app.session.user && endNumber > (article.lastReadPostNumber() || 0)) {\r\n      article.save({ lastReadPostNumber: endNumber });\r\n      m.redraw();\r\n    }\r\n\r\n  }\r\n}","import IndexPage from 'flarum/components/IndexPage';\r\nimport DiscussionPage from 'flarum/components/DiscussionPage';\r\nimport { extend, override } from 'flarum/extend';\r\n\r\nexport default function() {\r\n  // Redirect tag to blog category\r\n  extend(IndexPage.prototype, 'config', function() {\r\n    const tag = this.currentTag();\r\n    const tagRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'tags_only';\r\n\r\n    // Only trigger when it's a tag page and the redirects are enabled\r\n    if(tag && tagRedirectEnabled) {\r\n      const blogTags = app.forum.attribute('blogTags');\r\n\r\n      // Tag is inside list\r\n      if(blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)) {\r\n        m.route.set(app.route('blog'));\r\n      }\r\n    }\r\n  });\r\n\r\n  // Redirect discussion to blog article\r\n  override(DiscussionPage.prototype, 'show', function(original, discussion) {\r\n    const discussionRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\r\n    \r\n    if(discussionRedirectEnabled && discussion && discussion && discussion.tags().length > 0) {\r\n      const blogTags = app.forum.attribute('blogTags');\r\n\r\n      const foundTags = discussion.tags().filter(tag => {\r\n        return blogTags.indexOf(tag.id()) >= 0 ||  (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)\r\n      });\r\n\r\n      // Only redirect if the discussion has blog tags\r\n      if (foundTags.length > 0) {\r\n        // Redirect to blog article\r\n        const url = app.route('blogArticle', {\r\n          id: discussion.slug()\r\n        });\r\n\r\n        // Setting the 3rd argument to true replaces the current state in the browser history, that way the browser back button works as expected.\r\n        m.route.set(url, null, true);\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return original(discussion);\r\n  });\r\n}","import Model from 'flarum/Model';\r\nimport mixin from 'flarum/utils/mixin';\r\n\r\nexport default class BlogMeta extends mixin(Model, {\r\n    discussion: Model.hasOne('discussion'),\r\n    featuredImage: Model.attribute('featuredImage'),\r\n    summary: Model.attribute('summary'),\r\n    isFeatured: Model.attribute('isFeatured'),\r\n    isSized: Model.attribute('isSized'),\r\n    isPendingReview: Model.attribute('isPendingReview'),\r\n}) {}","import { extend } from 'flarum/extend';\r\nimport TagsPage from 'flarum/tags/components/TagsPage';\r\n\r\nexport default function extendTagOverview() {\r\n    extend(TagsPage.prototype, 'view', function(markup) {\r\n        if(app.forum.attribute('blogHideTags') == false) return markup;\r\n        \r\n        // Get knowledge base tag ID's\r\n        const knowledgeBaseTags = app.forum.attribute('blogTags') || [];\r\n\r\n        // Get tiles\r\n        let tag_tiles = markup.children[1].children[1].children[0].children;\r\n\r\n        // Map through the tiles and remove tiles that are part of the knowledge base \r\n        markup.children[1].children[1].children[0].children = tag_tiles.map((tile, i) => {\r\n            return knowledgeBaseTags.indexOf(this.tags[i].id()) >= 0 ? null : tile;\r\n        });\r\n\r\n        return markup;\r\n    });\r\n}\r\n","export default function () {\r\n  // Save the original function before we override it\r\n  const original_discussion_route = app.route.discussion;\r\n\r\n  /**\r\n   * Generate a URL to a discussion OR a Blog Article.\r\n   *\r\n   * CORE_CODE_OVERRIDE: This overrides the standard function from flarum/core.\r\n   * The code is inspired from js/src/forum/routes.js and now handles different types of discussions.\r\n   * It will try to keep the original function executed if the discussion being\r\n   * processed isn't a blog article.\r\n   *\r\n   * @param {Discussion} discussion\r\n   * @param {Integer} [near]\r\n   * @return {String}\r\n   */\r\n  app.route.discussion = (discussion, near) => {\r\n    const discussionRedirectEnabled =\r\n      app.forum.attribute('blogRedirectsEnabled') === 'both' ||\r\n      app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\r\n    let shouldRedirect = false;\r\n    if (discussionRedirectEnabled && discussion.tags().length > 0) {\r\n      const blogTags = app.forum.attribute('blogTags');\r\n\r\n      const foundTags = discussion.tags().filter((tag) => {\r\n        return (\r\n          blogTags.indexOf(tag.id()) >= 0 ||\r\n          (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)\r\n        );\r\n      });\r\n\r\n      if (foundTags.length > 0) {\r\n        shouldRedirect = true;\r\n      }\r\n    }\r\n    if (shouldRedirect) {\r\n      return app.route('blogArticle', {\r\n        id: discussion.slug(),\r\n      });\r\n    } else {\r\n      return original_discussion_route(discussion, near);\r\n    }\r\n  };\r\n}\r\n","import Component from 'flarum/Component';\r\n\r\nexport default class ComposerPreview extends Component {\r\n  view() {\r\n    return <div />;\r\n  }\r\n\r\n  oncreate(vnode) {\r\n    super.oncreate(vnode);\r\n\r\n    s9e.TextFormatter.preview(vnode.attrs.content || '', vnode.dom);\r\n  }\r\n}","import ComposerBody from 'flarum/components/ComposerBody';\r\nimport Button from 'flarum/components/Button';\r\nimport TextEditor from 'flarum/components/TextEditor';\r\nimport ComposerPreview from './ComposerPreview';\r\n\r\nexport default class Composer extends ComposerBody {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.previewContent = false;\r\n  }\r\n\r\n  // Render\r\n  view() {\r\n    const hasContent = (this.composer.fields.content() && this.composer.fields.content() !== \"\");\r\n    const loading = this.loading || this.attrs.disabled;\r\n\r\n    return (\r\n      <div className={`Flarum-Blog-Composer ${loading ? 'Flarum-Blog-Composer-Loading' : ''}`}>\r\n        <div className={\"Flarum-Blog-Composer-tabs\"}>\r\n          <Button className={!this.previewContent && \"AricleComposerButtonSelected\"} onclick={() => this.previewContent = false}>{app.translator.trans('v17development-flarum-blog.forum.composer.write')}</Button>\r\n          <Button className={this.previewContent && \"AricleComposerButtonSelected\"} onclick={() => this.previewContent = true}>{app.translator.trans('v17development-flarum-blog.forum.composer.view')}</Button>\r\n        </div>\r\n        \r\n        <div className={`Composer Flarum-Blog-Composer-body ${this.previewContent ? 'Flarum-Blog-Composer-HideEditor' : ''}`}>\r\n          {this.previewContent && (\r\n            <div className={\"Flarum-Blog-Composer-preview\"}>\r\n              {!hasContent && (\r\n                app.translator.trans('v17development-flarum-blog.forum.composer.nothing_to_preview')\r\n              )}\r\n              \r\n              <ComposerPreview content={this.composer.fields.content()} />\r\n            </div>\r\n          )}\r\n\r\n          {TextEditor.component({\r\n            submitLabel: this.attrs.submitLabel || app.translator.trans('core.forum.composer_edit.submit_button'),\r\n            placeholder: this.attrs.placeholder,\r\n            disabled: loading,\r\n            composer: this.composer,\r\n            preview: this.jumpToPreview && this.jumpToPreview.bind(this),\r\n            onchange: this.composer.fields.content,\r\n            onsubmit: this.onsubmit.bind(this),\r\n            value: this.composer.fields.content(),\r\n          })}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Submit trigger\r\n  onsubmit() {\r\n    if(this.attrs.onsubmit) {\r\n      this.attrs.onsubmit();\r\n    }\r\n  }\r\n}","import Page from 'flarum/components/Page';\r\nimport Button from 'flarum/components/Button';\r\nimport Link from 'flarum/components/Link';\r\nimport BlogAuthor from '../components/BlogItemSidebar/BlogAuthor';\r\nimport RenameArticleModal from '../components/Modals/RenameArticleModal';\r\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\r\nimport BlogPostSettingsModal from '../components/Modals/BlogPostSettingsModal';\r\nimport Composer from '../components/Composer/Composer';\r\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\r\n\r\nexport default class BlogComposer extends Page {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\r\n\r\n    // User cannot write blogs\r\n    if(!app.forum.attribute('canWriteBlogPosts')) {\r\n      m.route.set(app.route(\"blog\"));\r\n      return;\r\n    }\r\n\r\n    // Send history push\r\n    app.history.push('blogComposer');\r\n\r\n    // Get languages (if enabled)\r\n    this.languages = app.store.all('discussion-languages');\r\n\r\n    // Set body class\r\n    this.bodyClass = 'BlogItemPage';\r\n\r\n    // Article data\r\n    this.articleLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.locale;\r\n    this.article = app.store.createRecord('discussions');\r\n    this.blogMeta = null;\r\n\r\n    this.tags = [];\r\n\r\n    // Pre-select tags\r\n    if(m.route.param().tags) {\r\n      const tagList = Array.isArray(m.route.param().tags) ? m.route.param().tags : m.route.param().tags.split(',');\r\n\r\n      if(m.route.param().tags.length > 0) {\r\n        tagList.forEach(tagId => {\r\n          const foundTag = app.store.getById('tags', tagId);\r\n\r\n          if(foundTag) {\r\n            this.tags.push(foundTag);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    this.isSaving = false;\r\n  }\r\n\r\n  openTagsModal(e = null) {\r\n    if(e) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    if(this.isSaving) return;\r\n\r\n    app.modal.show(TagDiscussionModal, {\r\n      selectedTags: this.tags,\r\n      onsubmit: tags => {\r\n        this.tags = tags;\r\n      }\r\n    });\r\n  }\r\n\r\n  openNameArticleModal(e = null) {\r\n    if(e) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    if(this.isSaving) return;\r\n\r\n    app.modal.show(RenameArticleModal, { \r\n      article: this.article,\r\n      onChange: (title) => {\r\n        this.article.pushData({\r\n          attributes: {\r\n            title\r\n          }\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  openBlogSettings(e) {\r\n    e.preventDefault();\r\n\r\n    if(this.isSaving) return;\r\n\r\n    app.modal.show(BlogPostSettingsModal, { \r\n      meta: this.blogMeta, \r\n      onsubmit: (meta) => this.blogMeta = meta\r\n    });\r\n  }\r\n\r\n  view() {\r\n    const blogImage = this.blogMeta && this.blogMeta.featuredImage() ? `url(${this.blogMeta.featuredImage()})` : null;\r\n    \r\n    return (\r\n      <div className={\"FlarumBlogItem\"}>\r\n        <div className={\"container\"}>\r\n          <div className={\"FlarumBlog-ToolButtons\"}>\r\n            <Link\r\n              href={app.route(\"blog\")} \r\n              className={\"Button\"}\r\n              loading={this.isSaving}\r\n              icon={\"fas fa-angle-left\"}\r\n              >\r\n              <i class=\"icon fas fa-angle-left Button-icon\"></i>\r\n              <span class=\"Button-label\">\r\n                {app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}\r\n              </span>\r\n            </Link>\r\n          </div>\r\n          <div className={\"FlarumBlog-Article\"}>\r\n            <div className={\"FlarumBlog-Article-Container\"}>\r\n              <div className={\"FlarumBlog-Article-Content\"}>\r\n                <div\r\n                  className={`FlarumBlog-Article-Image FlarumBlog-default-image`} \r\n                  style={{ \r\n                    backgroundImage: blogImage,\r\n                    cursor: 'pointer'\r\n                  }}\r\n                  onclick={e => this.openBlogSettings(e)} />\r\n\r\n                <div className={\"FlarumBlog-Article-Content-Edit-Button\"}>\r\n                  <div className={this.languages.length === 0 ? \"FlarumBlog-Article-Content-Edit-Dropdown\" : \"FlarumBlog-Article-Content-EditButtons\"}>\r\n                    {(this.languages !== null && this.languages.length >= 1) && (\r\n                      <LanguageDropdown\r\n                        selected={this.articleLanguage}\r\n                        onclick={(language) => this.articleLanguage = language} />\r\n                    )}\r\n                    \r\n                    <Button \r\n                      className={\"Button\"}\r\n                      onclick={e => this.openBlogSettings(e)}\r\n                      icon={\"fas fa-pencil-alt\"}\r\n                      loading={this.isSaving}\r\n                      >\r\n                        Update blog settings\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Article Categories */}\r\n                <div className={\"FlarumBlog-Article-Categories\"}>\r\n                  {this.tags.map(tag => (\r\n                    <a href={\"#\"} onclick={e => this.openTagsModal(e)}>{tag.name()}</a>\r\n                  ))}\r\n\r\n                  <a href={\"#\"} onclick={e => this.openTagsModal(e)}>{this.tags.length === 0 ? app.translator.trans('v17development-flarum-blog.forum.composer.select_category') : app.translator.trans('v17development-flarum-blog.forum.composer.edit_categories')} <i className={\"fas fa-edit\"} /></a>\r\n                </div>\r\n                \r\n                <div className={\"FlarumBlog-Article-Post\"}>\r\n                  {/* Article name */}\r\n                  <h3 onclick={() => this.openNameArticleModal()} style={{ cursor: 'pointer' }}>\r\n                    {this.article && this.article.title() && this.article.title() !== \"\" ? this.article.title() : app.translator.trans('v17development-flarum-blog.forum.composer.no_title')} \r\n                    \r\n                    <a href={\"#\"} onclick={(e) => e.preventDefault()}><i className={\"fas fa-edit\"} /></a>\r\n                  </h3>\r\n                  \r\n                  <div className=\"Post-body\">\r\n                    <Composer\r\n                      composer={app.composer} \r\n                      originalContent={\"\"}\r\n                      submitLabel={app.translator.trans('v17development-flarum-blog.forum.composer.post_article')}\r\n                      placeholder={app.translator.trans('v17development-flarum-blog.forum.composer.enter_message_here')}\r\n                      onsubmit={() => this.create()}\r\n                      disabled={this.isSaving}\r\n                      />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className={\"FlarumBlog-Article-Comments\"}>\r\n                <h4>{app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} (0)</h4>\r\n                {/* Locked */}\r\n\r\n                <div className={\"Post-body\"}>\r\n                  <blockquote class=\"uncited\"><div><span className={\"fas fa-ban\"} style={{ marginRight: '5px' }} /> {app.translator.trans('v17development-flarum-blog.forum.composer.comment_section')}</div></blockquote>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={\"FlarumBlog-Article-Sidebar\"}>\r\n              <BlogAuthor user={app.session.user} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  create() {\r\n    const blogTags = app.forum.attribute('blogTags') || [];\r\n\r\n    // Force tags\r\n    if(this.tags.length === 0) {\r\n      this.openTagsModal();\r\n      return;\r\n    }\r\n\r\n    // Force title\r\n    if(!this.article.title() || this.article.title() === \"\") {\r\n      this.openNameArticleModal();\r\n      return;\r\n    }\r\n\r\n    // Find knowledge base tags\r\n    const findblogTags = this.tags.filter((tag) => { \r\n      return blogTags.indexOf(tag.id()) >= 0;\r\n    });\r\n    \r\n    // No knowledge base tags selected\r\n    if(findblogTags.length === 0) {\r\n      alert(app.translator.trans('v17development-flarum-blog.forum.composer.no_blog_tags_selected'));\r\n      return;\r\n    }\r\n\r\n    if((this.blogMeta === null || !this.blogMeta.featuredImage() || !this.blogMeta.summary()) && !confirm(app.translator.trans('v17development-flarum-blog.forum.composer.post_without_blog_info'))) {\r\n      return;\r\n    }\r\n\r\n    let relationships = {\r\n      tags: this.tags,\r\n    };\r\n\r\n    // Add languages if possible\r\n    if(this.languages.length > 0) {\r\n      relationships.language = app.store.getBy('discussion-languages', 'code', this.articleLanguage);\r\n    }\r\n\r\n    const data = {\r\n      title: this.article.title(),\r\n      content: app.composer.fields.content(),\r\n      relationships,\r\n      blogMeta: this.blogMeta !== null ? {\r\n        featuredImage: this.blogMeta.featuredImage(),\r\n        summary: this.blogMeta.summary(),\r\n        isSized: this.blogMeta.isSized(),\r\n      } : null\r\n    };\r\n\r\n    this.isSaving = true;\r\n\r\n    this.article\r\n      .save(data)\r\n      .then((article) => {\r\n        setTimeout(() => {\r\n          // Redirect to the article\r\n          m.route.set(app.route(\"blogArticle\", { id: `${article.slug()}` }));\r\n        }, 500);\r\n      })\r\n      .catch(() => {\r\n        this.isSaving = false;\r\n        m.redraw();\r\n      })\r\n  }\r\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import BlogItem from \"./pages/BlogItem\";\r\nimport Model from 'flarum/Model';\r\nimport Discussion from 'flarum/models/Discussion';\r\nimport BlogOverview from \"./pages/BlogOverview\";\r\nimport redirector from \"./utils/redirector\";\r\nimport BlogMeta from \"../common/Models/BlogMeta\";\r\nimport extendTagOverview from \"./utils/extendTagOverview\";\r\nimport discussionRouting from \"./utils/discussionRouting\";\r\nimport BlogComposer from \"./pages/BlogComposer\";\r\nimport compat from \"./compat\";\r\n\r\n// Register Flarum Blog\r\napp.initializers.add('v17development-flarum-blog', app => {\r\n  app.routes.blog = { path: '/blog', component: BlogOverview };\r\n  \r\n  app.routes.blogCategory = { path: '/blog/category/:slug', component: BlogOverview };\r\n\r\n  app.routes.blogComposer = { path: '/blog/compose', component: BlogComposer };\r\n\r\n  app.routes.blogArticle = { path: '/blog/:id', component: BlogItem };\r\n\r\n  app.store.models.blogMeta = BlogMeta;\r\n\r\n  Discussion.prototype.blogMeta = Model.hasOne('blogMeta');\r\n\r\n  // Redirect discussions/tags to their blog post/overview\r\n  redirector();\r\n\r\n  // Extend tag overview.\r\n  // Hide tags which are used as blog category\r\n  extendTagOverview();\r\n\r\n  // Make that blog articles have a blog route and not a discussion route\r\n  discussionRouting();\r\n});\r\n\r\ncompat();","import { compat } from '@flarum/core/forum';\r\nimport BlogAuthor from './components/BlogItemSidebar/BlogAuthor';\r\nimport BlogItemSidebar from './components/BlogItemSidebar/BlogItemSidebar';\r\n\r\nexport default () => {\r\n  Object.assign(compat, {\r\n    \"v17development/blog/components/BlogItemSidebar\": BlogItemSidebar,\r\n    \"v17development/blog/components/BlogAuthor\": BlogAuthor\r\n  })\r\n};"],"sourceRoot":""}