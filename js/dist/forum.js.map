{"version":3,"sources":["webpack://@v17development/flarum-blog/webpack/bootstrap","webpack://@v17development/flarum-blog/./forum.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-blog/./src/common/Models/BlogMeta.js","webpack://@v17development/flarum-blog/./src/forum/compat.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogCategories.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogAuthor.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogItemSidebar.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogPostController.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/Language.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/LanguageDropdown.js","webpack://@v17development/flarum-blog/./src/forum/components/Modals/BlogPostSettingsModal.js","webpack://@v17development/flarum-blog/./src/forum/components/Modals/RenameArticleModal.js","webpack://@v17development/flarum-blog/./src/forum/index.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogItem.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/BlogComposer.js","webpack://@v17development/flarum-blog/./src/forum/utils/discussionRouting.js","webpack://@v17development/flarum-blog/./src/forum/utils/extendTagOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/redirector.js","webpack://@v17development/flarum-blog/./src/forum/utils/tooltip.js","webpack://@v17development/flarum-blog/external \"flarum.core\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['Component']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['Model']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Alert']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Button']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/CommentPost']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/DiscussionComposer']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/DiscussionPage']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Dropdown']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/EditPostComposer']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/IndexPage']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Modal']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Page']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/PostStream']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/ReplyComposer']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Switch']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['extend']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['helpers/avatar']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['helpers/listItems']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['models/Discussion']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['tags/components/TagDiscussionModal']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/DiscussionControls']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/ItemList']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/extractText']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/mixin']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/string']\""],"names":["BlogMeta","mixin","Model","discussion","hasOne","featuredImage","attribute","summary","isFeatured","isSized","isPendingReview","compat","BlogItemSidebar","BlogAuthor","BlogCategories","init","blogCategories","app","forum","view","translator","trans","map","tagId","tag","store","getById","tags","push","categoryItem","all","forEach","_tag","isChild","parent","id","route","slug","m","icon","backgroundColor","color","name","Component","props","loading","article","user","avatar","displayName","bio","listItems","items","toArray","ItemList","itemlist","add","component","BlogPostController","loadedPost","buttons","LanguageDiscussionModal","flarum","extensions","components","canRename","Button","className","onclick","modal","show","RenameArticleModal","children","articlePost","firstPost","firstPostId","disabled","canEdit","composer","load","EditPostComposer","post","BlogPostSettingsModal","canTag","TagDiscussionModal","blogMeta","save","then","alerts","Alert","type","response","handleErrors","canChangeLanguage","canLock","DiscussionControls","lockAction","bind","isLocked","canHide","isHidden","restoreAction","canDelete","confirm","extractText","history","getCurrent","previous","back","redraw","hideAction","Dropdown","label","buttonClassName","menuClassName","onshow","find","Language","languages","options","reduce","o","lang","code","extra","language","uppercase","toUpperCase","LanguageDropdown","selected","Object","keys","key","isSelected","active","isNew","meta","createRecord","prop","title","content","fields","maxWidth","minWidth","width","minHeight","withAttr","marginTop","Switch","state","onchange","val","fontWeight","submitData","relationships","onsubmit","e","preventDefault","pushData","hide","Modal","redirect","target","value","url","window","replaceState","document","initializers","routes","blog","path","BlogOverview","blogCategory","blogArticle","BlogItem","models","Discussion","prototype","redirector","extendTagOverview","discussionRouting","setTitle","bodyClass","found","loadBlogItem","preloadBlogOverview","preloadedApiDocument","setTimeout","param","split","lazyRedraw","includedPosts","payload","included","articleId","filter","record","data","sort","a","b","slice","stream","PostStream","on","positionChanged","blogImage","routeName","backgroundImage","opacity","session","posts","fontSize","marginRight","commentCount","render","startNumber","endNumber","lastReadPostNumber","Page","isLoading","featuredPosts","hasMore","currentSelectedLanguage","locale","loadBlogOverview","reloadData","q","length","articles","newArticle","location","pathname","clear","blogTag","isSticky","tooltip","humanTime","createdAt","BlogComposer","loaded","DiscussionComposer","original_discussion_route","near","discussionRedirectEnabled","shouldRedirect","blogTags","foundTags","indexOf","trim","extend","TagsPage","markup","knowledgeBaseTags","tag_tiles","tile","i","IndexPage","currentTag","tagRedirectEnabled","override","DiscussionPage","original","element","$"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\r\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Model from 'flarum/Model';\r\nimport mixin from 'flarum/utils/mixin';\r\n\r\nexport default class BlogMeta extends mixin(Model, {\r\n    discussion: Model.hasOne('discussion'),\r\n    featuredImage: Model.attribute('featuredImage'),\r\n    summary: Model.attribute('summary'),\r\n    isFeatured: Model.attribute('isFeatured'),\r\n    isSized: Model.attribute('isSized'),\r\n    isPendingReview: Model.attribute('isPendingReview'),\r\n}) {}","import { compat } from '@flarum/core/forum';\r\nimport BlogAuthor from './components/BlogItemSidebar/BlogAuthor';\r\nimport BlogItemSidebar from './components/BlogItemSidebar/BlogItemSidebar';\r\n\r\nexport default () => {\r\n  Object.assign(compat, {\r\n    \"v17development/blog/components/BlogItemSidebar\": BlogItemSidebar,\r\n    \"v17development/blog/components/BlogAuthor\": BlogAuthor\r\n  })\r\n};","import Component from 'flarum/Component';\r\n\r\nexport default class BlogCategories extends Component {\r\n  init() {\r\n    this.blogCategories = app.forum.attribute('blogTags');\r\n  }\r\n  \r\n  view() {\r\n    return (\r\n      <div className={\"BlogCategories\"}>\r\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.categories')}</h3>\r\n\r\n        {this.blogCategories && this.blogCategories.map(tagId => {\r\n          const tag = app.store.getById('tags', tagId);\r\n\r\n          if(!tag) return null; \r\n\r\n          const tags = [];\r\n\r\n          // Add tag\r\n          tags.push(\r\n            this.categoryItem(tag)\r\n          );\r\n\r\n          // Add tags\r\n          app.store.all('tags').forEach(_tag => {\r\n            if(_tag.isChild() && _tag.parent().id() === tag.id()) {\r\n              tags.push(this.categoryItem(_tag));\r\n            }\r\n          });\r\n          \r\n          return tags;\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Category item\r\n  categoryItem(tag) {\r\n    return (\r\n      <a \r\n        href={app.route(\"blogCategory\", { slug: tag.slug() })} \r\n        className={`BlogCategories-item BlogCategories-item-${tag.id()} ${tag.isChild() && app.forum.attribute('blogCategoryHierarchy') == true ? 'BlogCategories-item-child' : ''}`} \r\n        config={m.route}\r\n        >\r\n        <span className={tag.icon() === '' ? 'BlogCategories-item-colored' : ''} style={{ backgroundColor: tag.icon() === '' ? tag.color() : null }}>\r\n          <i className={tag.icon()} />\r\n        </span>\r\n        {tag.name()}\r\n      </a>\r\n    )\r\n  }\r\n}","import Component from 'flarum/Component';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport avatar from 'flarum/helpers/avatar';\r\n\r\nexport default class BlogAuthor extends Component {  \r\n  view() {\r\n    return (\r\n      <div className={\"FlarumBlog-Article-Author\"}>\r\n        <div className={`FlarumBlog-Article-Author-background ${this.props.loading ? 'FlarumBlog-Author-Ghost' : ''}`} style={{ backgroundColor: this.props.article && this.props.article.user() ? this.props.article && this.props.article.user().color() : null }} />\r\n\r\n        <div className={\"FlarumBlog-Article-Author-Avatar\"}>{this.props.article && this.props.article.user() ? avatar(this.props.article.user()) : <span className={\"Avatar FlarumBlog-Author-Ghost\"} />}</div>\r\n\r\n        {this.props.article && this.props.article.user() && (\r\n          <div className={\"FlarumBlog-Article-Author-Info\"}>\r\n            <span className={\"FlarumBlog-Article-Author-Name\"}>{this.props.article.user().displayName()}</span>\r\n            <p className={\"FlarumBlog-Article-Author-Bio\"}>{this.props.article.user().bio && this.props.article.user().bio()}</p>\r\n\r\n            <ul className={\"FlarumBlog-Article-Author-Extended\"}>\r\n              {listItems(this.items().toArray())}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n        {this.props.loading && (\r\n          <div>\r\n            <span className={\"FlarumBlog-Article-Author-Name FlarumBlog-Author-Ghost\"}>&nbsp;</span>\r\n            <p className={\"FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost\"}>&nbsp;</p>\r\n            <p className={\"FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost\"}>&nbsp;</p>\r\n            <p className={\"FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost\"}>&nbsp;</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  items() {\r\n    return new ItemList();\r\n  }\r\n}","import Component from 'flarum/Component';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport BlogAuthor from './BlogAuthor';\r\nimport BlogCategories from '../BlogCategories';\r\n\r\nexport default class BlogItemSidebar extends Component {\r\n  view() {\r\n    return (\r\n      <div className={\"FlarumBlog-Article-Sidebar\"}>\r\n        <ul>\r\n          {listItems(this.items().toArray())}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  items() {\r\n    const itemlist = new ItemList();\r\n\r\n    itemlist.add(\"author\", BlogAuthor.component(this.props), 0);\r\n\r\n    itemlist.add(\"categories\", BlogCategories.component(this.props), 0);\r\n\r\n    return itemlist;\r\n  }\r\n}","import Component from 'flarum/Component';\r\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\r\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\r\nimport Alert from 'flarum/components/Alert';\r\nimport Button from 'flarum/components/Button';\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\r\nimport EditPostComposer from 'flarum/components/EditPostComposer';\r\nimport extractText from 'flarum/utils/extractText';\r\nimport RenameArticleModal from './Modals/RenameArticleModal';\r\n\r\nexport default class BlogPostController extends Component {\r\n  init() {\r\n    this.loadedPost = false;\r\n  }\r\n  \r\n  view() {\r\n    const article = this.props.article;\r\n    let buttons = [];\r\n\r\n    // Working for GlowingBlue version\r\n    const LanguageDiscussionModal = flarum.extensions['fof-discussion-language'] && typeof flarum.extensions['fof-discussion-language'].components !== \"undefined\" ? \r\n      flarum.extensions['fof-discussion-language'].components.LanguageDiscussionModal : null;\r\n\r\n    // Rename article\r\n    if(article.canRename()) {\r\n      buttons.push(\r\n        Button.component({\r\n          className: 'Button',\r\n          onclick: () => app.modal.show(new RenameArticleModal({ article })),\r\n          icon: 'fas fa-pencil-alt',\r\n          children: app.translator.trans('v17development-flarum-blog.forum.tools.rename_article')\r\n        })\r\n      );\r\n    }\r\n\r\n    const articlePost = article.firstPost() ? article.firstPost() : app.store.getById('posts', article.firstPostId());\r\n\r\n    // Edit article\r\n    buttons.push(\r\n      Button.component({\r\n        className: 'Button',\r\n        disabled: !articlePost || !articlePost.canEdit(),\r\n        onclick: () => {\r\n          app.composer.load(new EditPostComposer({post: articlePost}));\r\n          app.composer.show();\r\n        },\r\n        icon: 'fas fa-edit',\r\n        children: app.translator.trans('v17development-flarum-blog.forum.tools.edit_article')\r\n      })\r\n    );\r\n\r\n    // Article settings\r\n    buttons.push(\r\n      Button.component({\r\n        className: 'Button',\r\n        onclick: () => app.modal.show(new BlogPostSettingsModal({ article })),\r\n        icon: 'fas fa-cogs',\r\n        children: app.translator.trans('v17development-flarum-blog.forum.tools.article_settings')\r\n      })\r\n    );\r\n\r\n    // Update categories\r\n    if(article.canTag()) {\r\n      buttons.push(\r\n        Button.component({\r\n          className: 'Button',\r\n          onclick: () => app.modal.show(new TagDiscussionModal({ discussion: article })),\r\n          icon: 'fas fa-tag',\r\n          children: app.translator.trans('v17development-flarum-blog.forum.tools.update_category')\r\n        })\r\n      );\r\n    }\r\n\r\n    // Approve article\r\n    if(article.blogMeta() && article.blogMeta().isPendingReview()) {\r\n      buttons.push(<li className=\"Dropdown-separator\"/>);\r\n\r\n      buttons.push(\r\n        Button.component({\r\n          className: 'Button',\r\n          disabled: !app.forum.attribute('canApproveBlogPosts'),\r\n          onclick: () => {\r\n            article.blogMeta().save({\r\n              isPendingReview: false\r\n            }).then(() => {\r\n              app.alerts.show(new Alert({type: 'success', children: app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article_approved')}));\r\n            },\r\n            response => {\r\n              this.loading = false;\r\n              this.handleErrors(response);\r\n            });\r\n          },\r\n          icon: 'fas fa-thumbs-up',\r\n          children: app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article')\r\n        })\r\n      );\r\n    }\r\n\r\n    // Language\r\n    if (article.canChangeLanguage && article.canChangeLanguage() && LanguageDiscussionModal) {\r\n      buttons.push(\r\n          Button.component({\r\n              children: app.translator.trans('fof-discussion-language.forum.discussion_controls.change_language_button'),\r\n              icon: 'fas fa-globe',\r\n              onclick: () => app.modal.show(new LanguageDiscussionModal({ discussion: article }))\r\n          })\r\n      );\r\n    }\r\n\r\n    buttons.push(<li className=\"Dropdown-separator\"/>);\r\n\r\n    // Lock article\r\n    if(article.canLock()) {\r\n      buttons.push(\r\n        Button.component({\r\n          className: 'Button',\r\n          onclick: DiscussionControls.lockAction.bind(article),\r\n          icon: `fas ${article.isLocked() ? 'fa-comments' : 'fa-comment-slash'}`,\r\n          children: article.isLocked() ? app.translator.trans('v17development-flarum-blog.forum.tools.enable_comments') : app.translator.trans('v17development-flarum-blog.forum.tools.disable_comments')\r\n        })\r\n      );\r\n    }\r\n\r\n    // Hide/show/delete\r\n    if(article.canHide()) {\r\n      // Article is hidden\r\n      if(article.isHidden()) {\r\n        // Recover article\r\n        buttons.push(\r\n          Button.component({\r\n            className: 'Button',\r\n            onclick: DiscussionControls.restoreAction.bind(article),\r\n            icon: 'fas fa-eye',\r\n            children: app.translator.trans('v17development-flarum-blog.forum.tools.recover_article')\r\n          })\r\n        );\r\n\r\n        // Delete article\r\n        if(article.canDelete()) {\r\n          buttons.push(\r\n            Button.component({\r\n              className: 'Button',\r\n              onclick: () => {\r\n                // Confirm deletion\r\n                if (confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))) {\r\n                  // Redirect if the current page is an blog article\r\n                  if (app.history.getCurrent().name === 'blogArticle') {\r\n                    if(app.previous) {\r\n                      app.history.back();\r\n                    }else{\r\n                      m.route(app.route('blog'));\r\n                    }\r\n                  }\r\n            \r\n                  return article.delete().then(() => {\r\n                    m.redraw();\r\n                  });\r\n                }            \r\n              },\r\n              icon: 'far fa-trash-alt',\r\n              children: app.translator.trans('v17development-flarum-blog.forum.tools.delete_forever')\r\n            })\r\n          );\r\n        }\r\n      }else{\r\n        // Hide article\r\n        buttons.push(\r\n          Button.component({\r\n            className: 'Button',\r\n            onclick: DiscussionControls.hideAction.bind(article),\r\n            icon: 'fas fa-eye-slash',\r\n            children: app.translator.trans('v17development-flarum-blog.forum.tools.hide_article')\r\n          })\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className={\"FlarumBlog-Article-Content-Edit-Button\"}>\r\n        <div className={\"FlarumBlog-Article-Content-Edit-Dropdown\"}>\r\n          {Dropdown.component({\r\n            icon: 'fas fa-cog',\r\n            label: 'Manage',\r\n            buttonClassName: 'Button',\r\n            menuClassName: 'Dropdown-menu--right',\r\n            children: buttons,\r\n            onshow: () => {\r\n              // Get post data to make sure they can edit the post\r\n              if(articlePost && !articlePost.canEdit() && !this.loadedPost) {\r\n                this.loadedPost = true;\r\n                app.store\r\n                  .find('posts', article.firstPost() ? article.firstPost().id() : article.firstPostId())\r\n                  .then(() => {})\r\n                  .catch(() => {})\r\n                  .then(() => m.redraw())\r\n              }     \r\n            }\r\n          })}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import Component from 'flarum/Component';\r\n\r\nexport default class Language extends Component {\r\n    init() {\r\n        this.languages = app.store.all('discussion-languages');\r\n        this.options = this.languages.reduce((o, lang) => {\r\n            o[lang.code()] = (\r\n                <span>\r\n                    <i className={\"fas fa-globe\"} /> {lang.name()}\r\n                </span>\r\n            );\r\n\r\n            return o;\r\n        }, this.props.extra || {});\r\n    }\r\n\r\n    view() {\r\n        const { language, uppercase } = this.props;\r\n        const name = language.name() || '';\r\n\r\n        return (\r\n            <span>\r\n                <i className={\"fas fa-globe\"} />\r\n                &nbsp;\r\n                {uppercase ? name.toUpperCase() : name}\r\n            </span>\r\n        );\r\n    }\r\n}\r\n","import Component from 'flarum/Component';\r\nimport Dropdown from 'flarum/components/Dropdown';\r\nimport Button from 'flarum/components/Button';\r\nimport Language from './Language';\r\n\r\nexport default class LanguageDropdown extends Component {\r\n    init() {\r\n        this.languages = app.store.all('discussion-languages');\r\n        this.options = this.languages.reduce((o, lang) => {\r\n            o[lang.code()] = <Language language={lang} />;\r\n\r\n            return o;\r\n        }, this.props.extra || {});\r\n    }\r\n\r\n    view() {\r\n        const selected = this.props.selected;\r\n\r\n        return Dropdown.component({\r\n            buttonClassName: 'Button',\r\n            label: this.options[selected] || this.options[this.props.default],\r\n            menuClassName: 'Dropdown-menu--right',\r\n            children: Object.keys(this.options).map((key) => {\r\n                const isSelected = selected || 'any';\r\n                const active = key === isSelected;\r\n\r\n                return Button.component({\r\n                    active,\r\n                    children: this.options[key],\r\n                    icon: active ? 'fas fa-check' : true,\r\n                    onclick: () => this.props.onclick(key),\r\n                });\r\n            }),\r\n        });\r\n    }\r\n}","import Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport Switch from 'flarum/components/Switch';\r\n\r\nexport default class BlogPostSettingsModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.isNew = this.props.article.blogMeta() ? false : true;\r\n    this.meta = this.props.article.blogMeta() ? this.props.article.blogMeta() : app.store.createRecord('blogMeta');\r\n    \r\n    this.summary = m.prop(this.meta.summary() || '');\r\n\r\n    this.featuredImage = m.prop(this.meta.featuredImage() || '');\r\n\r\n    this.isFeatured = m.prop(this.meta.isFeatured() || false);\r\n    this.isSized = m.prop(this.meta.isSized() || false);\r\n    this.isPendingReview = m.prop(this.meta.isPendingReview() || false);\r\n  }\r\n\r\n  className() {\r\n    return 'Modal--small Support-Modal';\r\n  }\r\n\r\n  title() {\r\n    return 'Blog post settings';\r\n  }\r\n\r\n  content() {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          {this.fields().toArray()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fields() {\r\n    const items = new ItemList();\r\n\r\n    items.add('summary', (\r\n      <div className=\"Form-group\">\r\n        <label>Article summary:</label>\r\n        <textarea className=\"FormControl\" style={{ maxWidth: '100%', minWidth: '100%', width: '100%', minHeight: '120px' }} value={this.summary()} placeholder={\"Please enter a summary\"} oninput={m.withAttr('value', this.summary)}/>\r\n\r\n        <small>This summary will be visible on the blog overview page and will be used for SEO purposes.</small>\r\n      </div>\r\n    ), 30);\r\n\r\n    items.add('image', (\r\n      <div className=\"Form-group\">\r\n        <label>Article image URL:</label>\r\n        <input type=\"text\" className=\"FormControl\" value={this.featuredImage()} placeholder={\"https://\"} oninput={m.withAttr('value', this.featuredImage)}/>\r\n\r\n        <small>Best image resolution for social media: 1200x630</small>\r\n\r\n        {this.featuredImage() != \"\" && (\r\n          <img src={this.featuredImage()} alt={this.props.article.title()} title={\"Blog post image\"} width={\"100%\"} style={{ marginTop: '15px' }} />\r\n        )}\r\n      </div>\r\n    ), 30);\r\n\r\n    items.add('sized', (\r\n      <div className=\"Form-group\">\r\n        {Switch.component({\r\n          state: this.isSized() == true,\r\n          onchange: (val) => {\r\n            this.isSized(val);\r\n          },\r\n          children: [\r\n            <b>Highlighted post</b>, \r\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>Give this post a big image on the blog overview page.</div>,\r\n          ]\r\n        })}\r\n      </div>\r\n    ), -10);\r\n\r\n    items.add('submit', <div className=\"Form-group\">\r\n      {Button.component({\r\n        type: 'submit',\r\n        className: 'Button Button--primary SupportModal-save',\r\n        loading: this.loading,\r\n        children: 'Update'\r\n      })}\r\n    </div>, -10);\r\n\r\n    return items;\r\n  }\r\n\r\n  submitData() {\r\n    return {\r\n      summary: this.summary(),\r\n      featuredImage: this.featuredImage(),\r\n      isFeatured: this.isFeatured(),\r\n      isSized: this.isSized(),\r\n      isPendingReview: this.isPendingReview(),\r\n      relationships: this.isNew && {\r\n        discussion: this.props.article\r\n      }\r\n    };\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.loading = true;\r\n\r\n    this.meta\r\n      .save(this.submitData())\r\n      .then(() => {\r\n        if(this.isNew) {\r\n          this.props.article.pushData({\r\n            relationships: {\r\n              blogMeta: this.meta\r\n            }\r\n          });\r\n        }\r\n\r\n        this.hide();\r\n        m.redraw();\r\n      },\r\n      response => {\r\n        this.loading = false;\r\n        this.handleErrors(response);\r\n      });\r\n  }\r\n}","import Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\nimport ItemList from 'flarum/utils/ItemList';\r\nimport { slug } from 'flarum/utils/string';\r\n\r\nexport default class RenameArticleModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.article = this.props.article;\r\n\r\n    this.name = m.prop(this.article.title() || '');\r\n    this.slug = m.prop(this.article.slug() || '');\r\n\r\n    this.redirect = this.props.redirect;\r\n  }\r\n\r\n  className() {\r\n    return 'Modal--small Support-Modal';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('v17development-flarum-blog.forum.tools.rename_article');\r\n  }\r\n\r\n  content() {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          {this.fields().toArray()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fields() {\r\n    const items = new ItemList();\r\n\r\n    items.add('name', (\r\n      <div className=\"Form-group\">\r\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article.title')}:</label>\r\n        <input className=\"FormControl\" placeholder={app.translator.trans('v17development-flarum-blog.forum.article.title')} value={this.name()} oninput={e => {\r\n          this.name(e.target.value);\r\n          this.slug(slug(e.target.value));\r\n        }}/>\r\n      </div>\r\n    ), 50);\r\n\r\n    items.add('slug', (\r\n      <div className=\"Form-group\">\r\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article.slug')}:</label>\r\n        <input className=\"FormControl\" placeholder={app.translator.trans('v17development-flarum-blog.forum.article.slug')} value={this.slug()} oninput={m.withAttr('value', this.slug)}/>\r\n      </div>\r\n    ), 40);\r\n\r\n    items.add('submit', (\r\n      <div className=\"Form-group\">\r\n        {Button.component({\r\n          type: 'submit',\r\n          className: 'Button Button--primary SupportModal-save',\r\n          loading: this.loading,\r\n          children: 'Update'\r\n        })}\r\n      </div>\r\n    ), -10);\r\n\r\n    return items;\r\n  }\r\n\r\n  submitData() {\r\n    return {\r\n      title: this.name(),\r\n      slug: this.slug()\r\n    };\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.loading = true;\r\n\r\n    this.article.save({\r\n      title: this.name(),\r\n      slug: this.slug()\r\n    })\r\n      .then(() => {\r\n        this.hide();\r\n\r\n        // Redirect\r\n        if(this.redirect) {\r\n          const url =  `/knowledgebase/${this.article.id()}-${this.slug()}`;\r\n\r\n          m.route(url, true);\r\n          window.history.replaceState(null, document.title, url);\r\n        }\r\n      }, response => {\r\n        this.loading = false;\r\n        this.handleErrors(response);\r\n      }\r\n    );\r\n  }\r\n}","import BlogItem from \"./pages/BlogItem\";\r\nimport Model from 'flarum/Model';\r\nimport Discussion from 'flarum/models/Discussion';\r\n\r\nimport BlogOverview from \"./pages/BlogOverview\";\r\nimport redirector from \"./utils/redirector\";\r\nimport BlogMeta from \"../common/Models/BlogMeta\";\r\nimport extendTagOverview from \"./utils/extendTagOverview\";\r\nimport discussionRouting from \"./utils/discussionRouting\";\r\nimport compat from \"./compat\";\r\n\r\n// Register Flarum Blog\r\napp.initializers.add('v17development-flarum-blog', app => {\r\n  app.routes.blog = { path: '/blog', component: BlogOverview.component() };\r\n  \r\n  app.routes.blogCategory = { path: '/blog/category/:slug', component: BlogOverview.component() };\r\n\r\n  app.routes.blogArticle = { path: '/blog/:id', component: BlogItem.component() };\r\n\r\n  app.store.models.blogMeta = BlogMeta;\r\n\r\n  Discussion.prototype.blogMeta = Model.hasOne('blogMeta');\r\n\r\n  // Redirect discussions/tags to their blog post/overview\r\n  redirector();\r\n\r\n  // Extend tag overview.\r\n  // Hide tags which are used as blog category\r\n  extendTagOverview();\r\n\r\n  // Make that blog articles have a blog route and not a discussion route\r\n  discussionRouting();\r\n});\r\n\r\ncompat();","import Page from 'flarum/components/Page';\r\nimport Button from 'flarum/components/Button';\r\nimport CommentPost from 'flarum/components/CommentPost';\r\nimport ReplyComposer from 'flarum/components/ReplyComposer';\r\nimport PostStream from 'flarum/components/PostStream';\r\nimport BlogPostController from '../components/BlogPostController';\r\nimport BlogItemSidebar from '../components/BlogItemSidebar/BlogItemSidebar';\r\n\r\nexport default class BlogItem extends Page {\r\n  init() {\r\n    super.init();\r\n\r\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\r\n\r\n    // Send history push\r\n    app.history.push('blogArticle');\r\n\r\n    this.bodyClass = 'BlogItemPage';\r\n\r\n    this.loading = true;\r\n    this.found = false;\r\n    this.article = null;\r\n    // this.posts = [];\r\n\r\n    this.loadBlogItem();\r\n  }\r\n\r\n  // Load blog overview\r\n  loadBlogItem() {\r\n    const preloadBlogOverview = app.preloadedApiDocument();\r\n\r\n    if (preloadBlogOverview) {\r\n      // We must wrap this in a setTimeout because if we are mounting this\r\n      // component for the first time on page load, then any calls to m.redraw\r\n      // will be ineffective and thus any configs (scroll code) will be run\r\n      // before stuff is drawn to the page.\r\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\r\n    } else {\r\n      app.store.find('discussions', m.route.param('id').split('-')[0])\r\n        .then(this.show.bind(this))\r\n        .catch(() => {\r\n          m.redraw();\r\n        });\r\n    }\r\n\r\n    m.lazyRedraw();\r\n  }\r\n\r\n  // Show blog post\r\n  show(article) {\r\n    // Set article data\r\n    this.article = article;\r\n\r\n    // Update title\r\n    app.setTitle(`${article.title()} - ${app.translator.trans('v17development-flarum-blog.forum.blog')}`);\r\n\r\n    this.loading = false;\r\n\r\n    let includedPosts = [];\r\n    if (article.payload && article.payload.included) {\r\n      const articleId = article.id();\r\n\r\n      includedPosts = article.payload.included\r\n        .filter(\r\n          (record) =>\r\n            record.type === 'posts' &&\r\n            record.relationships &&\r\n            record.relationships.discussion &&\r\n            record.relationships.discussion.data.id === articleId\r\n        )\r\n        .map((record) => app.store.getById('posts', record.id))\r\n        .sort((a, b) => a.id() - b.id())\r\n        .slice(0, 20);\r\n    }\r\n\r\n    this.stream = new PostStream({ discussion: article, includedPosts });\r\n    this.stream.on('positionChanged', this.positionChanged.bind(this));\r\n\r\n    m.lazyRedraw();\r\n  }\r\n\r\n  view() {\r\n    const blogImage = this.article && this.article.blogMeta() && this.article.blogMeta().featuredImage() ? `url(${this.article.blogMeta().featuredImage()})` : null;\r\n    let articlePost = null;\r\n\r\n    if(!this.loading && this.article) {\r\n      articlePost = this.article.firstPost() ? this.article.firstPost() : app.store.getById('posts', this.article.firstPostId());\r\n    }\r\n\r\n    return (\r\n      <div className={\"FlarumBlogItem\"}>\r\n        <div className={\"container\"}>\r\n          <div className={\"FlarumBlog-ToolButtons\"}>\r\n            <Button \r\n              className={\"Button\"}\r\n              onclick={() => {\r\n                if(app.previous && app.previous.props.routeName === \"blog\") {\r\n                  app.history.back();\r\n                }else{\r\n                  m.route(app.route(\"blog\"));\r\n                }\r\n              }}\r\n              icon={\"fas fa-angle-left\"}\r\n              >\r\n              {app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}\r\n            </Button>\r\n          </div>\r\n          <div className={\"FlarumBlog-Article\"}>\r\n            <div className={\"FlarumBlog-Article-Container\"}>\r\n              <div className={\"FlarumBlog-Article-Content\"}>\r\n                <div \r\n                  className={`FlarumBlog-Article-Image FlarumBlog-default-image ${this.loading ? 'FlarumBlog-Article-GhostImage' : ''}`} \r\n                  style={{ \r\n                    backgroundImage: blogImage,\r\n                    opacity: this.article && this.article.isHidden() ? 0.4 : null\r\n                  }}\r\n                  />\r\n\r\n                {this.article && app.session.user && (app.session.user.canEdit() || this.article.canRename() || (this.article.posts() && this.article.posts()[0].canEdit())) && (\r\n                  <BlogPostController article={this.article} />\r\n                )}\r\n\r\n                {/* Article Categories */}\r\n                <div className={\"FlarumBlog-Article-Categories\"}>\r\n                  {!this.loading && this.article && this.article.tags() && this.article.tags().map(tag => (\r\n                    <a href={app.route(\"blogCategory\", { slug: tag.slug() })} config={m.route}>{tag.name()}</a>\r\n                  ))}\r\n\r\n                  {this.loading && (\r\n                    [0, 1].map(() => (<span className={\"FlarumBlog-Article-GhostCategory\"}>Category</span>))\r\n                  )}\r\n                </div>\r\n                \r\n                <div className={\"FlarumBlog-Article-Post\"}>\r\n                  {/* Article name */}\r\n                  <h3 className={this.loading ? 'FlarumBlog-Article-GhostTitle' : null}>\r\n                    {this.article ? this.article.title() : 'Ghost title'} \r\n                    {this.article && this.article.isHidden() && `(${app.translator.trans('v17development-flarum-blog.forum.hidden')})`}\r\n                  </h3>\r\n                  \r\n                  {this.loading && [0, 1, 2].map(() => (\r\n                    <div>\r\n                      <p className={\"FlarumBlog-Article-GhostParagraph\"}>&nbsp;</p>\r\n                      <p className={\"FlarumBlog-Article-GhostParagraph\"}>&nbsp;</p>\r\n                      <p className={\"FlarumBlog-Article-GhostParagraph\"}>&nbsp;</p>\r\n                      <p>&nbsp;</p>\r\n                    </div>\r\n                  ))}\r\n\r\n                  {!this.loading && this.article.blogMeta() && this.article.blogMeta().isPendingReview() == true && (\r\n                    <div className={\"Post\"}>\r\n                      <blockquote class=\"uncited\" style={{ fontSize: '16px' }}><div><span className={\"far fa-clock\"} style={{ marginRight: '5px' }} /> {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}</div></blockquote>\r\n                    </div>\r\n                  )}\r\n\r\n                  {!this.loading && articlePost && <CommentPost post={articlePost} />}\r\n                </div>\r\n              </div>\r\n\r\n              <div className={\"FlarumBlog-Article-Comments\"}>\r\n                <h4>{app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} ({this.article ? (this.article.commentCount() - 1) : 0})</h4>\r\n                {/* Locked */}\r\n                {!this.loading && this.article.isLocked && this.article.isLocked() && (\r\n                  <div className={\"Post-body\"}>\r\n                    <blockquote class=\"uncited\"><div><span className={\"far fa-lock\"} style={{ marginRight: '5px' }} /> {app.translator.trans('v17development-flarum-blog.forum.comment_section.locked')}</div></blockquote>\r\n                  </div>\r\n                )}\r\n\r\n                {!this.loading && this.stream && this.stream.render()}\r\n              </div>\r\n            </div>\r\n\r\n            <BlogItemSidebar article={this.article} loading={this.loading} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  positionChanged(startNumber, endNumber) {\r\n    const article = this.article;\r\n\r\n    if (app.session.user && endNumber > (article.lastReadPostNumber() || 0)) {\r\n      article.save({ lastReadPostNumber: endNumber });\r\n      m.redraw();\r\n    }\r\n\r\n  }\r\n}","import Page from 'flarum/components/Page';\r\nimport Button from 'flarum/components/Button';\r\nimport humanTime from 'flarum/helpers/humanTime';\r\nimport BlogCategories from '../components/BlogCategories';\r\nimport BlogComposer from '../utils/BlogComposer';\r\nimport tooltip from '../utils/tooltip';\r\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\r\n\r\nexport default class BlogOverview extends Page {\r\n  init() {\r\n    super.init();\r\n\r\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\r\n\r\n    this.bodyClass = 'BlogOverviewPage';\r\n\r\n    this.isLoading = true;\r\n    this.featuredPosts = [];\r\n    this.posts = [];\r\n    this.hasMore = null;\r\n\r\n    this.languages = app.store.all('discussion-languages');\r\n\r\n    this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.locale;\r\n\r\n    // Send history push\r\n    app.history.push('blog');\r\n\r\n    this.loadBlogOverview();\r\n  }\r\n\r\n  // Load blog overview\r\n  loadBlogOverview() {\r\n    const preloadBlogOverview = app.preloadedApiDocument();\r\n\r\n    if (preloadBlogOverview) {\r\n      // We must wrap this in a setTimeout because if we are mounting this\r\n      // component for the first time on page load, then any calls to m.redraw\r\n      // will be ineffective and thus any configs (scroll code) will be run\r\n      // before stuff is drawn to the page.\r\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\r\n    } else {\r\n      this.reloadData();\r\n    }\r\n\r\n    m.lazyRedraw();\r\n  }\r\n\r\n  reloadData() {\r\n    let q = `is:blog${m.route.param('slug') ? ` tag:${m.route.param('slug')}` : ''}`;\r\n\r\n    if(this.languages !== null && this.languages.length >= 1) {\r\n      q += ` language:${this.currentSelectedLanguage}`\r\n    }\r\n\r\n    app.store.find('discussions', {\r\n      filter: {\r\n        q\r\n      },\r\n      sort: '-createdAt'\r\n    })\r\n      .then(this.show.bind(this))\r\n      .catch(() => {\r\n        m.redraw();\r\n      });\r\n  }\r\n\r\n  // Show blog posts\r\n  show(articles) {\r\n    if(articles.length === 0) {\r\n      this.isLoading = false;\r\n      m.lazyRedraw();\r\n      \r\n      return;\r\n    }\r\n\r\n    this.featuredPosts = articles.slice(0, 3);\r\n    this.posts = articles.length >= 4 ? articles.slice(3, articles.length) : [];\r\n\r\n    this.isLoading = false;\r\n\r\n    m.lazyRedraw();\r\n  }\r\n\r\n  title() {\r\n    if(!m.route.param('slug')) {\r\n      return <h2>{app.translator.trans('v17development-flarum-blog.forum.recent_posts')}</h2>;\r\n    }\r\n\r\n    const tag = app.store.all('tags').filter(tag => tag.slug() === m.route.param('slug'));\r\n\r\n    return (\r\n      <h2>\r\n        {tag && tag[0] && tag[0].name()}\r\n        <small> - <a href={app.route(\"blog\")} config={m.route}>{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</a></small>\r\n      </h2>\r\n    );\r\n  }\r\n\r\n  view() {\r\n    return (\r\n      <div className={\"FlarumBlogOverview\"}>\r\n        <div className={\"container\"}>\r\n          <div className={\"BlogFeatured\"}>\r\n            <div className={\"BlogOverviewButtons\"}>\r\n              {app.forum.attribute('canWriteBlogPosts') && (\r\n                <Button \r\n                  className={\"Button\"}\r\n                  onclick={() => this.newArticle()}\r\n                  icon={\"fas fa-pencil\"}\r\n                  >\r\n                  {app.translator.trans('v17development-flarum-blog.forum.compose.write_article')}\r\n                </Button>\r\n              )}\r\n\r\n              {(this.languages !== null && this.languages.length >= 1) && (\r\n                <LanguageDropdown \r\n                  selected={this.currentSelectedLanguage}\r\n                  onclick={(language) => {\r\n                    this.currentSelectedLanguage = language;\r\n\r\n                    m.route(document.location.pathname, {\r\n                      lang: language\r\n                    })\r\n\r\n                    this.reloadData();\r\n                  }} />\r\n              )}\r\n            </div>\r\n\r\n            {this.title()}\r\n\r\n            <div style={{ clear: 'both' }} />\r\n\r\n            <div className={\"BlogFeatured-list\"}>\r\n              {/* Ghost data */}\r\n              {this.isLoading && [0, 1, 2].map(() => (\r\n                <div className={\"BlogFeatured-list-item BlogFeatured-list-item-ghost\"}>\r\n                  <div className={\"BlogFeatured-list-item-details\"}>\r\n                    <h4>&nbsp;</h4>\r\n\r\n                    <div className={\"data\"}>\r\n                      <span><i className={\"far fa-wave\"} /></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              \r\n              {!this.isLoading && this.featuredPosts.length >= 0 && this.featuredPosts.map((article) => {\r\n                const blogImage = article.blogMeta() && article.blogMeta().featuredImage() ? `url(${article.blogMeta().featuredImage()})` : null;\r\n                const blogTag = article.tags() ? article.tags().filter(tag => tag.isChild()) : [];\r\n\r\n                return (\r\n                  <a \r\n                    href={app.route(\"blogArticle\", { id: `${article.id()}-${article.slug()}` })} \r\n                    className={\"BlogFeatured-list-item FlarumBlog-default-image\"} \r\n                    style={{ backgroundImage: blogImage }}\r\n                    config={m.route}\r\n                    >\r\n                    <div className={\"BlogFeatured-list-item-top\"}>\r\n                      {blogTag[0] && (\r\n                        <span>{blogTag[0].name()}</span>\r\n                      )}\r\n                      {article.isSticky() && (\r\n                        <span><i className={\"fas fa-thumbtack\"} /></span>\r\n                      )}\r\n                      {((article.blogMeta() && article.blogMeta().isPendingReview() == true) || article.isHidden()) && (\r\n                        <span><i className={\"fas fa-eye-slash\"} /></span>\r\n                      )}\r\n                      {article.blogMeta() && article.blogMeta().isPendingReview() == true && (\r\n                        <span title={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')} config={tooltip.bind(this)} data-placement={\"bottom\"}><i className={\"far fa-clock\"} /> {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review_title')}</span>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className={\"BlogFeatured-list-item-details\"}>\r\n                      <h4>{article.title()}</h4>\r\n\r\n                      <div className={\"data\"}>\r\n                        <span><i className={\"far fa-clock\"} /> {humanTime(article.createdAt())}</span>  \r\n                        <span><i className={\"far fa-user\"} /> {article.user() ? article.user().displayName() : '[Deleted]'}</span>\r\n                        <span><i className={\"far fa-comment\"} /> {article.commentCount()}</span>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={\"BlogScrubber\"}>\r\n            <div className={\"BlogList\"}>\r\n              {this.isLoading && [false, false, true, false].map((state) => {\r\n                return (\r\n                  <div className={`BlogList-item BlogList-item-${state === true ? 'sized' : 'default'} BlogList-item-ghost`}>\r\n                    <div className={\"BlogList-item-photo FlarumBlog-default-image\"}></div>\r\n                    <div className={\"BlogList-item-content\"}>\r\n                      <h4>&nbsp;</h4>\r\n                      <p>&nbsp;</p>\r\n\r\n                      <div className={\"data\"}>\r\n                        <span><i className={\"far fa-wave\"} /></span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n\r\n              {!this.isLoading && this.posts.length >= 1 && this.posts.map(article => {\r\n                const blogImage = article.blogMeta() && article.blogMeta().featuredImage() ? `url(${article.blogMeta().featuredImage()})` : null;\r\n                const isSized = article.blogMeta() && article.blogMeta().isSized();\r\n                const summary = article.blogMeta() && article.blogMeta().summary() ? article.blogMeta().summary() : \"\";\r\n                \r\n                return (\r\n                  <a\r\n                    href={app.route(\"blogArticle\", { id: `${article.id()}-${article.slug()}` })} \r\n                    className={`BlogList-item BlogList-item-${isSized ? 'sized' : 'default'}`}\r\n                    config={m.route}>\r\n                    <div className={\"BlogList-item-photo FlarumBlog-default-image\"} style={{ backgroundImage: blogImage }}></div>\r\n                    <div className={\"BlogList-item-content\"}>\r\n                      <h4>\r\n                        {article.title()}\r\n                        {((article.blogMeta() && article.blogMeta().isPendingReview() == true) || article.isHidden()) && (\r\n                          <i className={\"fas fa-eye-slash\"} />\r\n                        )}\r\n                        {article.blogMeta() && article.blogMeta().isPendingReview() == true && (\r\n                          <i className={\"far fa-clock\"} title={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')} config={tooltip.bind(this)} />\r\n                        )}\r\n                      </h4>\r\n                      <p>{summary}</p>\r\n\r\n                      <div className={\"data\"}>\r\n                        <span><i className={\"far fa-clock\"} /> {humanTime(article.createdAt())}</span>  \r\n                        <span><i className={\"far fa-user\"} /> {article.user() ? article.user().displayName() : '[Deleted]'}</span>\r\n                        <span><i className={\"far fa-comment\"} /> {article.commentCount()}</span>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                )\r\n              })}\r\n\r\n              {!this.isLoading && this.featuredPosts.length > 0 && this.posts.length === 0 && (\r\n                <p className={\"FlarumBlog-reached-end\"}>{app.translator.trans('v17development-flarum-blog.forum.no_more_posts')}</p>\r\n              )}\r\n\r\n              {!this.isLoading && this.featuredPosts.length === 0 && this.posts.length === 0 && (\r\n                <p className={\"FlarumBlog-reached-end\"}>{app.translator.trans('v17development-flarum-blog.forum.category_empty')}</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className={\"Sidebar\"}>\r\n              <BlogCategories />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  newArticle() {\r\n    const component = new BlogComposer({\r\n        user: app.session.user\r\n    });\r\n\r\n    let tags = [];\r\n\r\n    app.forum.attribute('blogTags').forEach(tagId => {\r\n      const tag = app.store.getById('tags', tagId);\r\n      \r\n      if(tag && tags.length === 0 && !tag.isChild()) {\r\n        tags.push(tag);\r\n      }\r\n    });\r\n\r\n    // Update tags\r\n    component.tags = tags;\r\n\r\n    app.composer.load(component);\r\n    app.composer.show();\r\n  }\r\n}","import DiscussionComposer from 'flarum/components/DiscussionComposer';\r\n\r\nexport default class BlogComposer extends DiscussionComposer {\r\n  onsubmit() {\r\n    this.loading = true;\r\n\r\n    const data = this.data();\r\n\r\n    app.store.createRecord('discussions').save(data).then(\r\n        article => {\r\n            app.composer.hide();\r\n            m.route(app.route('blogArticle', { id: article.id() + '-' + article.slug() }));\r\n        },\r\n        this.loaded.bind(this)\r\n    );\r\n  }\r\n}\r\n","export default function () {\r\n  // Save the original function before we override it\r\n  const original_discussion_route = app.route.discussion;\r\n\r\n  /**\r\n   * Generate a URL to a discussion OR a Blog Article.\r\n   *\r\n   * CORE_CODE_OVERRIDE: This overrides the standard function from flarum/core.\r\n   * The code is inspired from js/src/forum/routes.js and now handles different types of discussions.\r\n   * It will try to keep the original function executed if the discussion being\r\n   * processed isn't a blog article.\r\n   *\r\n   * @param {Discussion} discussion\r\n   * @param {Integer} [near]\r\n   * @return {String}\r\n   */\r\n  app.route.discussion = (discussion, near) => {\r\n    const discussionRedirectEnabled =\r\n      app.forum.attribute('blogRedirectsEnabled') === 'both' ||\r\n      app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\r\n    let shouldRedirect = false;\r\n    if (discussionRedirectEnabled && discussion.tags().length > 0) {\r\n      const blogTags = app.forum.attribute('blogTags');\r\n\r\n      const foundTags = discussion.tags().filter((tag) => {\r\n        return (\r\n          blogTags.indexOf(tag.id()) >= 0 ||\r\n          (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)\r\n        );\r\n      });\r\n\r\n      if (foundTags.length > 0) {\r\n        shouldRedirect = true;\r\n      }\r\n    }\r\n    if (shouldRedirect) {\r\n      const slug = discussion.slug();\r\n      return app.route('blogArticle', {\r\n        id: discussion.id() + (slug.trim() ? '-' + slug : ''),\r\n      });\r\n    } else {\r\n      return original_discussion_route(discussion, near);\r\n    }\r\n  };\r\n}\r\n","import { extend } from 'flarum/extend';\r\nimport TagsPage from 'flarum/tags/components/TagsPage';\r\n\r\nexport default function extendTagOverview() {\r\n    extend(TagsPage.prototype, 'view', function(markup) {\r\n        if(app.forum.attribute('blogHideTags') == false) return markup;\r\n        \r\n        // Get knowledge base tag ID's\r\n        const knowledgeBaseTags = app.forum.attribute('blogTags') || [];\r\n\r\n        // Get tiles\r\n        let tag_tiles = markup.children[1].children[1].children[0].children;\r\n\r\n        // Map through the tiles and remove tiles that are part of the knowledge base \r\n        markup.children[1].children[1].children[0].children = tag_tiles.map((tile, i) => {\r\n            return knowledgeBaseTags.indexOf(this.tags[i].id()) >= 0 ? null : tile;\r\n        });\r\n\r\n        return markup;\r\n    });\r\n}\r\n","import IndexPage from 'flarum/components/IndexPage';\r\nimport DiscussionPage from 'flarum/components/DiscussionPage';\r\nimport { extend, override } from 'flarum/extend';\r\n\r\nexport default function() {\r\n  // Redirect tag to blog category\r\n  extend(IndexPage.prototype, 'config', function() {\r\n    const tag = this.currentTag();\r\n    const tagRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'tags_only';\r\n\r\n    // Only trigger when it's a tag page and the redirects are enabled\r\n    if(tag && tagRedirectEnabled) {\r\n      const blogTags = app.forum.attribute('blogTags');\r\n\r\n      // Tag is inside list\r\n      if(blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)) {\r\n        m.route(app.route('blog'));\r\n      }\r\n    }\r\n  });\r\n\r\n  // Redirect discussion to blog article\r\n  override(DiscussionPage.prototype, 'show', function(original, discussion) {\r\n    const discussionRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\r\n    \r\n    if(discussionRedirectEnabled && discussion && discussion && discussion.tags().length > 0) {\r\n      const blogTags = app.forum.attribute('blogTags');\r\n\r\n      const foundTags = discussion.tags().filter(tag => {\r\n        return blogTags.indexOf(tag.id()) >= 0 ||  (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)\r\n      });\r\n\r\n      // Only redirect if the discussion has blog tags\r\n      if (foundTags.length > 0) {\r\n        // Redirect to blog article\r\n        const url = app.route('blogArticle', {\r\n          id: `${discussion.id()}-${discussion.slug()}`\r\n        });\r\n\r\n        // Setting the 3rd argument to true replaces the current state in the browser history, that way the browser back button works as expected.\r\n        m.route(url, null, true);\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return original(discussion);\r\n  });\r\n}","export default function tooltip(element) {\r\n  $(element).tooltip();\r\n}","module.exports = flarum.core;","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/CommentPost'];","module.exports = flarum.core.compat['components/DiscussionComposer'];","module.exports = flarum.core.compat['components/DiscussionPage'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/EditPostComposer'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/PostStream'];","module.exports = flarum.core.compat['components/ReplyComposer'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['models/Discussion'];","module.exports = flarum.core.compat['tags/components/TagDiscussionModal'];","module.exports = flarum.core.compat['tags/components/TagsPage'];","module.exports = flarum.core.compat['utils/DiscussionControls'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/extractText'];","module.exports = flarum.core.compat['utils/mixin'];","module.exports = flarum.core.compat['utils/string'];"],"sourceRoot":""}