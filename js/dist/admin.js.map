{"version":3,"sources":["webpack://@v17development/flarum-blog/webpack/bootstrap","webpack://@v17development/flarum-blog/./admin.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-blog/./src/admin/Components/Header/Header.js","webpack://@v17development/flarum-blog/./src/admin/addPermissions.js","webpack://@v17development/flarum-blog/./src/admin/addRoutes.js","webpack://@v17development/flarum-blog/./src/admin/components/Modals/SelectCategoriesModal.js","webpack://@v17development/flarum-blog/./src/admin/index.js","webpack://@v17development/flarum-blog/./src/admin/pages/BlogSettings.js","webpack://@v17development/flarum-blog/external \"flarum.core.compat['Component']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/AdminNav']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Alert']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/BasicsPage']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Button']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/FieldSet']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Modal']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Page']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/PermissionGrid']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['components/Switch']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['extend']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/ItemList']\"","webpack://@v17development/flarum-blog/external \"flarum.core.compat['utils/saveSettings']\""],"names":["Header","view","marginTop","Component","blogPermissions","items","ItemList","add","icon","label","permission","app","routes","blog","path","component","BlogSettings","SelectCategoriesModal","init","blogCategoriesOriginal","data","settings","blog_tags","split","blogCategories","isSaving","hasChanges","title","className","content","forum","attribute","store","all","length","map","obj","parent","toggleTag","currentIndex","indexOf","id","splice","push","name","loading","onsubmit","e","preventDefault","hide","saveSettings","join","then","alerts","show","Alert","type","children","translator","trans","Modal","initializers","addRoutes","extend","BasicsPage","prototype","AdminNav","AdminLinkButton","href","route","description","PermissionGrid","toArray","redirectsEnabled","blog_redirects_enabled","hideTagsInList","blog_hide_tags","allowComments","blog_allow_comments","requiresReviewOnPost","blog_requires_review","addCategoryHierarchy","blog_category_hierarchy","modal","FieldSet","Switch","state","onchange","val","save","successAlert","m","redraw","Page"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin';","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Component from 'flarum/Component';\r\n\r\nexport default class Header extends Component {\r\n  view() {\r\n    return (\r\n      <div>\r\n        <div className=\"FlarumBlog-header\">\r\n          <div className=\"header-container\">\r\n            <h2>Flarum Blog</h2>\r\n\r\n            <p>Adds a blog to your forum</p>\r\n\r\n            <div className=\"clear\"/>\r\n          </div>\r\n        </div>\r\n        <div className=\"container\">\r\n          <p>Welcome to the Flarum Blog settings. If you have found a bug, have feedback or an idea, join the <a href=\"https://join.slack.com/t/v17dev/shared_invite/zt-g6ky1fd3-RreB9UB~636jL~QjDGfZHg\">V17 Development Slack workspace</a>. Also, for tips &amp; tricks, check our <a href=\"https://community.v17.dev/knowledgebase/category/flarum-blog\" target={\"_blank\"}>knowledge base</a>. Do you want to contribute? Check the <a href=\"https://github.com/v17development/flarum-blog\">GitHub repository</a></p>\r\n\r\n          <h2 style={{ marginTop: '25px' }}>Blog settings</h2>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}","import ItemList from 'flarum/utils/ItemList';\r\n\r\nexport default function blogPermissions() {\r\n  const items = new ItemList();\r\n\r\n  items.add('writeArticles', {\r\n    icon: 'fas fa-pencil-alt',\r\n    label: \"Write and edit blog articles\",\r\n    permission: 'blog.writeArticles',\r\n  }, 100);\r\n\r\n  items.add('autoApprovePosts', {\r\n    icon: 'far fa-star',\r\n    label: \"Auto approve articles\",\r\n    permission: 'blog.autoApprovePosts'\r\n  }, 90);\r\n\r\n  items.add('approvePreview', {\r\n    icon: 'far fa-thumbs-up',\r\n    label: \"Can approve blog articles\",\r\n    permission: 'blog.canApprovePosts'\r\n  }, 90);\r\n  \r\n  return items;\r\n}\r\n","import BlogSettings from './pages/BlogSettings';\r\n\r\nexport default function() {\r\n  // Main page\r\n  app.routes.blog = {\r\n    path: '/blog',\r\n    component: BlogSettings.component()\r\n  };\r\n};","import Modal from 'flarum/components/Modal';\r\nimport Button from 'flarum/components/Button';\r\nimport Alert from 'flarum/components/Alert';\r\nimport saveSettings from 'flarum/utils/saveSettings';\r\nimport Switch from 'flarum/components/Switch';\r\n\r\nexport default class SelectCategoriesModal extends Modal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.blogCategoriesOriginal = app.data.settings.blog_tags ? app.data.settings.blog_tags.split(\"|\") : [];\r\n    this.blogCategories = app.data.settings.blog_tags ? app.data.settings.blog_tags.split(\"|\") : [];\r\n\r\n    this.isSaving = false;\r\n    this.hasChanges = false;\r\n  }\r\n\r\n  title() {\r\n    return 'Select blog categories';\r\n  }\r\n\r\n  className() {\r\n    return 'Modal modal-dialog FlarumBlog-TagsModal';\r\n  }\r\n\r\n  content() {\r\n    return (\r\n      <div>\r\n        <div className=\"Modal-body\">\r\n          <p>Please select one or more tags that are considered blog tags. <a href={app.forum.attribute('baseUrl') + \"/blog\"} target={\"_blank\"}>Visit your blog.</a></p>\r\n\r\n          <table className={\"FlarumBlog-TagsTable\"}>\r\n            <thead>\r\n              <th width=\"35\"></th>\r\n              <th>Tag name</th>\r\n              <th width=\"50\"></th>\r\n            </thead>\r\n            <tbody>\r\n              {app.store.all('tags').length === 0 && (\r\n                <tr>\r\n                  <td colspan=\"3\">You currently have no tags.</td>\r\n                </tr>\r\n              )}\r\n\r\n              {app.store.all('tags').map(obj => {\r\n                // Skip all tags who aren't main categories\r\n                if(obj.parent()) {\r\n                  return;\r\n                }\r\n\r\n                // Toggle tag\r\n                const toggleTag = () => {\r\n                  const currentIndex = this.blogCategories.indexOf(obj.id());\r\n                  this.hasChanges = true;\r\n\r\n                  // Remove tag\r\n                  if(currentIndex >= 0) {\r\n                    this.blogCategories.splice(currentIndex, 1);\r\n                  }else {\r\n                    // Add tag\r\n                    this.blogCategories.push(obj.id());\r\n                  }\r\n                }\r\n\r\n                return (\r\n                  <tr>\r\n                    <td><i className={obj.icon()} /></td>\r\n                    <td onclick={toggleTag}>{obj.name()}</td>\r\n                    <td>\r\n                      <Switch \r\n                        state={this.blogCategories.indexOf(obj.id()) >= 0}\r\n                        onchange={toggleTag}\r\n                        />\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div style=\"padding: 25px 30px; text-align: center;\">\r\n          <Button\r\n            type=\"submit\"\r\n            className=\"Button Button--primary\"\r\n            loading={this.loading}\r\n            >\r\n            {this.hasChanges ? 'Save changes' : 'Close'}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Close or save setting\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if(!this.hasChanges) {\r\n      this.hide();\r\n      return;\r\n    }\r\n\r\n    this.isSaving = true;\r\n\r\n    saveSettings({\r\n      blog_tags: this.blogCategories.join('|')\r\n    })\r\n      .then(() => {\r\n        app.alerts.show(new Alert({\r\n          type: 'success', \r\n          children: app.translator.trans('core.admin.basics.saved_message')\r\n        }));\r\n\r\n        this.hide();\r\n      })\r\n      .catch(() => {\r\n        app.alerts.show(new Alert({\r\n          type: 'error', \r\n          children: app.translator.trans('core.lib.error.generic_message')\r\n        }));\r\n      })\r\n      .then(() => {\r\n        this.isSaving = false;\r\n      });\r\n  }\r\n}","import addRoutes from './addRoutes';\r\nimport { extend } from 'flarum/extend';\r\nimport AdminNav from 'flarum/components/AdminNav';\r\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\r\nimport BasicsPage from 'flarum/components/BasicsPage';\r\nimport PermissionGrid from 'flarum/components/PermissionGrid';\r\nimport blogPermissions from './addPermissions';\r\n// import { knowledgeBasePermissions, supportTicketPermissions } from './addPermissions';\r\n\r\napp.initializers.add('v17development-flarum-blog', () => {\r\n  addRoutes();\r\n\r\n  // Add home page option\r\n  extend(BasicsPage.prototype, 'homePageItems', items => {\r\n    items.add('v17development-flarum-blog', {\r\n      path: '/blog',\r\n      label: 'Blog',\r\n    });\r\n  });\r\n\r\n  // Add Admin navigation\r\n  extend(AdminNav.prototype, 'items', items => {\r\n    items.add(\r\n      'blog',\r\n      AdminLinkButton.component({\r\n        href: app.route('blog'),\r\n        icon: 'fas fa-blog',\r\n        children: 'Blog',\r\n        description: 'Configure your forum\\'s blog.',\r\n      })\r\n    );\r\n  });\r\n\r\n  // Add addPermissions\r\n  extend(PermissionGrid.prototype, 'permissionItems', items => {\r\n    items.add('v17-development-blog', {\r\n      label: \"Blog\",\r\n      children: blogPermissions().toArray()\r\n    }, 80);\r\n  });\r\n});","import Page from 'flarum/components/Page';\r\nimport saveSettings from 'flarum/utils/saveSettings';\r\nimport Alert from 'flarum/components/Alert';\r\nimport Header from '../Components/Header/Header';\r\nimport Button from 'flarum/components/Button';\r\nimport FieldSet from 'flarum/components/FieldSet';\r\nimport Switch from 'flarum/components/Switch';\r\nimport SelectCategoriesModal from '../components/Modals/SelectCategoriesModal';\r\n\r\nexport default class BlogSettings extends Page {\r\n  init() {\r\n    // Form\r\n    this.hasChanges = false;\r\n    this.isSaving = false;\r\n\r\n    // Settings\r\n    this.blogCategories = app.data.settings.blog_tags ? app.data.settings.blog_tags.split(\"|\") : [];\r\n    this.redirectsEnabled = app.data.settings.blog_redirects_enabled ? app.data.settings.blog_redirects_enabled : 'both';\r\n    this.hideTagsInList = app.data.settings.blog_hide_tags ? app.data.settings.blog_hide_tags : true;\r\n    this.allowComments = app.data.settings.blog_allow_comments ? app.data.settings.blog_allow_comments : true;\r\n    this.requiresReviewOnPost = app.data.settings.blog_requires_review ? app.data.settings.blog_requires_review : false;\r\n    this.addCategoryHierarchy = app.data.settings.blog_category_hierarchy ? app.data.settings.blog_category_hierarchy : true;\r\n  }\r\n\r\n  view() {\r\n    return (\r\n      <div className=\"BasicsPage FlarumBlog\">\r\n        {Header.component()}\r\n\r\n        <div className=\"container\">\r\n          <div className={\"FlarumBlog-SelectCategories\"}>\r\n            {this.blogCategories.length >= 1 ? `You have ${this.blogCategories.length} categories selected` : 'No categories selected'}\r\n\r\n            <Button \r\n              className=\"Button\"\r\n              onclick={() => {\r\n                app.modal.show(new SelectCategoriesModal());\r\n              }}\r\n              >\r\n              Select blog categories\r\n            </Button>\r\n          </div>\r\n\r\n          {FieldSet.component({\r\n            label: \"Blog\",\r\n            children: [\r\n              Switch.component({\r\n                state: this.allowComments == true,\r\n                onchange: (val) => {\r\n                  this.allowComments = val;\r\n                  this.hasChanges = true;\r\n                },\r\n                children: [\r\n                  <b>Allow comments</b>, \r\n                  <div className=\"helpText\">By default, allow comments on blog posts. When disabled, it can be enabled individually per blog post. <b>Note:</b> Changing this setting will not affect pre-existing blog posts.</div>,\r\n                ]\r\n              }),\r\n              Switch.component({\r\n                state: this.requiresReviewOnPost == true,\r\n                onchange: (val) => {\r\n                  this.requiresReviewOnPost = val;\r\n                  this.hasChanges = true;\r\n                },\r\n                children: [\r\n                  <b>Blog posts requires review</b>, \r\n                  <div className=\"helpText\">When posting an article, it will not be visible directly and needs to be reviewed by a moderator.</div>,\r\n                ]\r\n              })\r\n            ]\r\n          })}\r\n            \r\n          {FieldSet.component({\r\n            label: \"Categories\",\r\n            children: [\r\n              Switch.component({\r\n                state: this.hideTagsInList == true,\r\n                onchange: (val) => {\r\n                  this.hideTagsInList = val;\r\n                  this.hasChanges = true;\r\n                },\r\n                children: [\r\n                  <b>Hide tags in taglist</b>, \r\n                  <div className=\"helpText\">When enabled, this extension will hide the blog tags from your homepage. After changing this setting, clear the cache of your forum.</div>,\r\n                ]\r\n              }),\r\n              Switch.component({\r\n                state: this.addCategoryHierarchy == true,\r\n                onchange: (val) => {\r\n                  this.addCategoryHierarchy = val;\r\n                  this.hasChanges = true;\r\n                },\r\n                children: [\r\n                  <b>Show tag hierarchy</b>, \r\n                  <div className=\"helpText\">Add spacing to child-categories and give the category-list a hierarchy.</div>,\r\n                ]\r\n              }),\r\n            ]\r\n          })}\r\n\r\n          {FieldSet.component({\r\n            label: \"Redirects\",\r\n            children: [\r\n              Switch.component({\r\n                state: this.redirectsEnabled === 'both' || this.redirectsEnabled === 'discussions_only',\r\n                onchange: (val) => {\r\n                  if(val) {\r\n                    // Add\r\n                    if(this.redirectsEnabled === 'tags_only') {\r\n                      this.redirectsEnabled = 'both';\r\n                    }else if(this.redirectsEnabled === 'none') {\r\n                      this.redirectsEnabled = 'discussions_only';\r\n                    }\r\n                  }else{\r\n                    if(this.redirectsEnabled === 'discussions_only') {\r\n                      this.redirectsEnabled = 'none';\r\n                    }else {\r\n                      this.redirectsEnabled = 'tags_only';\r\n                    }\r\n                  }\r\n\r\n                  this.hasChanges = true;\r\n                },\r\n                children: [\r\n                  <b>Redirect blog articles</b>, \r\n                  <div className=\"helpText\">When enabled, this extension will redirect original discussion URLs to their blog URL.</div>\r\n                ],\r\n              }),\r\n              Switch.component({\r\n                state: this.redirectsEnabled === 'both' || this.redirectsEnabled === 'tags_only',\r\n                onchange: (val) => {\r\n                  if(val) {\r\n                    // Add\r\n                    if(this.redirectsEnabled === 'discussions_only') {\r\n                      this.redirectsEnabled = 'both';\r\n                    }else if(this.redirectsEnabled === 'none') {\r\n                      this.redirectsEnabled = 'tags_only';\r\n                    }\r\n                  }else{\r\n                    if(this.redirectsEnabled === 'tags_only') {\r\n                      this.redirectsEnabled = 'none';\r\n                    }else {\r\n                      this.redirectsEnabled = 'discussions_only';\r\n                    }\r\n                  }\r\n\r\n                  this.hasChanges = true;\r\n                },\r\n                children: [\r\n                  <b>Redirect blog tags</b>, \r\n                  <div className=\"helpText\">When enabled, this extension redirects blog tag URLs to the blog category URL.</div>\r\n                ],\r\n              })\r\n            ]\r\n          })}\r\n\r\n          <Button \r\n            loading={this.isSaving}\r\n            className={\"Button Button--primary\"}\r\n            onclick={() => this.save()}\r\n            disabled={!this.hasChanges}>\r\n            {app.translator.trans('core.admin.basics.submit_button')}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Save data\r\n   */\r\n  save() {\r\n    this.isSaving = true;\r\n    \r\n    saveSettings({\r\n      blog_redirects_enabled: this.redirectsEnabled,\r\n      blog_hide_tags: this.hideTagsInList,\r\n      blog_requires_review: this.requiresReviewOnPost,\r\n      blog_allow_comments: this.allowComments,\r\n      blog_category_hierarchy: this.addCategoryHierarchy\r\n    })\r\n      .then(() => {\r\n        this.hasChanges = false;\r\n\r\n        // Show saved message\r\n        app.alerts.show(this.successAlert = new Alert({type: 'success', children: app.translator.trans('core.admin.basics.saved_message')}));\r\n      })\r\n      .catch(() => {})\r\n      .then(() => {\r\n        this.isSaving = false;\r\n        m.redraw();\r\n      });\r\n  }\r\n}","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/BasicsPage'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/FieldSet'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/PermissionGrid'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/saveSettings'];"],"sourceRoot":""}